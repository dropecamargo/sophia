app||(app={}),function(e,t,o){app.ActividadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("actividades.index"))},idAttribute:"id",defaults:{actividad_codigo:"",actividad_nombre:"",actividad_tarifa:"0",actividad_categoria:""}})}(this,this.document),app||(app={}),function(e,t,o){app.AsignacionModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asignaciones.index"))},idAttribute:"id",defaults:{asignacion1_fecha:moment().format("YYYY-MM-DD"),asignacion1_tercero:"",asignacion1_tipo:"",asignacion1_contrato:"",asignacion1_direccion:"",asignacion1_direccion_nomenclatura:"",asignacion1_municipio:"",asignacion1_area:"",asignacion1_centrocosto:"",asignacion1_tecnico:"",asignacion1_contacto:""}})}(this,this.document),app||(app={}),function(e,t,o){app.AsignacionDetalleModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asignaciones.detalle.index"))},idAttribute:"id",defaults:{producto_nombre_search:"",producto_tipo_search:"",tipo_codigo:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ContactoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},idAttribute:"id",defaults:{tcontacto_nombres:"",tcontacto_apellidos:"",tcontacto_telefono:"",tcontacto_celular:"",tcontacto_municipio:"",tcontacto_direccion:"",tcontacto_direccion_nomenclatura:"",tcontacto_email:"",tcontacto_cargo:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ContadorModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("contadores.index"))},idAttribute:"id",defaults:{contador_nombre:"",contador_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.ContadorespModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.contadoresp.index"))},idAttribute:"id",defaults:{contadoresp_valor:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ContratoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("contratos.index"))},idAttribute:"id",defaults:{contrato_numero:"",contrato_tercero:"",tercero_nit:"",tercero_nombre:"",contrato_fecha:moment().format("YYYY-MM-DD"),contrato_vencimiento:moment().format("YYYY-MM-DD"),contrato_activo:!0,contrato_condiciones:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ContratoDanoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("contratos.danoc.index"))},idAttribute:"id",defaults:{contratodano_contrato:"",contratodano_dano:"",contratodano_tiempo:"",dano_activo:""}})}(this,this.document),app||(app={}),function(e,t,o){app.DanoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("danos.index"))},idAttribute:"id",defaults:{dano_nombre:"",dano_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.EstadoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("estados.index"))},idAttribute:"id",defaults:{estado_nombre:"",estado_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.MarcaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("marcas.index"))},idAttribute:"id",defaults:{marca_modelo:"",marca_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.ModeloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("modelos.index"))},idAttribute:"id",defaults:{modelo_nombre:"",modelo_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.ModuloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},idAttribute:"id",defaults:{name:"",display_name:"",nivel1:"",nivel2:"",nivel3:"",nivel4:""}})}(this,this.document),app||(app={}),function(e,t,o){app.OrdenModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.index"))},idAttribute:"id",defaults:{orden_fecha:moment().format("YYYY-MM-DD"),orden_tercero:"",orden_tipoorden:"",orden_solicitante:"",orden_placa:"",tercero_nombre:"",tercero_nit:"",tecnico_nombre:"",tecnico_nit:"",producto_id:"",producto_serie:"",producto_nombre:"",orden_persona:"",orden_dano:"",orden_prioridad:"",orden_problema:"",orden_abierta:!0,orden_fecha_servicio:moment().format("YYYY-MM-DD"),orden_hora_servicio:moment().format("HH:mm")}})}(this,this.document),app||(app={}),function(e,t,o){app.PrioridadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("prioridades.index"))},idAttribute:"id",defaults:{prioridad_nombre:"",prioridad_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.index"))},idAttribute:"id",defaults:{producto_placa:"",producto_serie:"",producto_referencia:"",producto_codigo:"",producto_nombre:"",producto_tipo:"",producto_marca:"",producto_modelo:"",producto_estado:"",producto_maquina:"",tercero_nit:"",tercero_nombre:"",producto_proveedor:"",producto_vida_util:"",contador_nombre:"",tipo_codigo:"",producto_costo_promedio:"",producto_ultimo_costo:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductoContadorModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.productoscontador.index"))},idAttribute:"id",defaults:{productocontador_producto:"",productocontador_contador:""}})}(this,this.document),app||(app={}),function(e,t,o){app.RolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.index"))},idAttribute:"id",defaults:{name:"",display_name:"",description:"",permissions:[]}})}(this,this.document),app||(app={}),function(e,t,o){app.SirveaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.sirveas.index"))},idAttribute:"id",defaults:{sirvea_codigo:"",sirvea_modelo:""}})}(this,this.document),app||(app={}),function(e,t,o){app.SolicitanteModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("solicitantes.index"))},idAttribute:"id",defaults:{solicitante_nombre:"",solicitante_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.SucursalModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("sucursales.index"))},idAttribute:"id",defaults:{sucursal_nombre:"",sucursal_direccion:"",sucursal_direccion_nomenclatura:""}})}(this,this.document),app||(app={}),function(e,t,o){app.TerceroModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_activo:!1,tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,tercero_gran_contribuyente:!1,tercero_autoretenedor_renta:!1,tercero_autoretenedor_ica:!1,tercero_socio:!1,tercero_cliente:!1,tercero_acreedor:!1,tercero_interno:!1,tercero_mandatario:!1,tercero_empleado:!1,tercero_proveedor:!1,tercero_extranjero:!1,tercero_afiliado:!1,tercero_otro:!1,tercero_cual:"",username:"",actividad_tarifa:""}})}(this,this.document),app||(app={}),function(e,t,o){app.TipoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tipos.index"))},idAttribute:"id",defaults:{tipo_codigo:"",tipo_nombre:"",tipo_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.TipoOrdenModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tiposorden.index"))},idAttribute:"id",defaults:{tipoorden_nombre:"",tipoorden_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.UsuarioRolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},idAttribute:"id",defaults:{user_id:"",role_id:""}})}(this,this.document),app||(app={}),function(e,t,o){app.VisitaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.visitas.index"))},idAttribute:"id",defaults:{visita_orden:"",visita_tecnico:"",visita_numero:"",visita_fecha_llegada:moment().format("YYYY-MM-DD"),visita_fecha_inicio:moment().format("YYYY-MM-DD"),visita_fecha_fin:moment().format("YYYY-MM-DD"),visita_fh_finaliza:"",visita_tiempo_transporte:"",visita_viaticos:"",tercero_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.VisitapModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.visitasp.index"))},idAttribute:"id",defaults:{visitap_orden:"",visitap_cantidad:"",visitap_nombre:"",visitap_codigo:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ZonaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("zonas.index"))},idAttribute:"id",defaults:{zona_nombre:"",zona_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.AsignacionDetalleList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asignaciones.detalle.index"))},model:app.AsignacionDetalleModel,initialize:function(){},validar:function(e,t){var o={success:!1,message:""},i=_.find(this.models,function(t){return t.get("asignacion2_producto")==e.asignacion2_producto});if(i instanceof Backbone.Model)return o.message="El producto "+e.producto_nombre+" ya fue agregado.",o;if(e.producto_tipo_search&&""==t.producto_tercero&&""==t.producto_contrato){var r=_.find(this.models,function(t){return t.get("asignacion2_producto")==e.producto_tipo_search});if(_.isUndefined(r))return o.message="Para poder agregar accesorio "+e.producto_nombre+" primero debe agregar el equipo "+e.producto_nombre_search+".",o}return o.success=!0,o},eliminar:function(e){var t=this;if("E"==e.get("tipo")){var o=_.filter(this.models,function(t){return t.get("producto_tipo_search")===e.get("asignacion2_producto")});_.each(o,function(e){e instanceof Backbone.Model&&(e.view.remove(),t.remove(e))})}if("R"==e.get("tipo")){var o=_.filter(this.models,function(t){return t.get("idFather")===e.get("id")});_.each(o,function(e){e instanceof Backbone.Model&&(e.view.remove(),t.remove(e))})}}})}(this,this.document),app||(app={}),function(e,t,o){app.ContratosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("contratos.danoc.index"))},model:app.ContratoDanoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.ContadorespCollection=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.contadoresp.index"))},model:app.ContadorespModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.VisitaCollection=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.visitas.index"))},model:app.VisitaModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.VisitapCollection=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.visitasp.index"))},model:app.VisitapModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductosContadorList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.productoscontador.index"))},model:app.ProductoContadorModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.SirveasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.sirveas.index"))},model:app.SirveaModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.PermisosRolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},model:app.ModuloModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.ContactsList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},model:app.ContactoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.RolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},model:app.UsuarioRolModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o,i){app.CreateActividadView=Backbone.View.extend({el:"#actividad-create",template:_.template(e("#add-actividad-tpl").html()||""),events:{"submit #form-actividad":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-actividad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainActividadView=Backbone.View.extend({el:"#actividades-main",initialize:function(){this.$actividadesSearchTable=this.$("#actividades-search-table"),this.$actividadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("actividades.index")),columns:[{data:"actividad_codigo",name:"actividad_codigo"},{data:"actividad_nombre",name:"actividad_nombre"},{data:"actividad_categoria",name:"actividad_categoria"},{data:"actividad_tarifa",name:"actividad_tarifa"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva actividad',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("actividades.show",{actividades:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AsignacionDetalleListView=Backbone.View.extend({el:"#browse-asignacion2-list",events:{"click .item-asignacion2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.asignacion2)||_.isNull(this.parameters.dataFilter.asignacion2)||(this.confCollection.data.asignacion2=this.parameters.dataFilter.asignacion2,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.AsignacionDetalleItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e,o){var i=this;data=t.Misc.formToJson(e),data.tipo=this.parameters.dataFilter.tipo,data.tercero_id=o.tercero_id,data.contrato_id=o.contrato_id;var r=this.collection.validar(data,o);if(!r.success)return void alertify.error(r.message);t.Misc.setSpinner(this.parameters.wrapper);var n=new app.AsignacionDetalleModel;n.save(data,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);i.collection.add(e),_.each(o.accesorio,function(e){e.idFather=o.id,i.collection.add(e)})}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=this.collection.get(o);this.collection.eliminar(i),i instanceof Backbone.Model&&(i.view.remove(),this.collection.remove(i))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AsignacionDetalleItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-asignacion2-item-tpl").html()||""),events:{},parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateAsignacionView=Backbone.View.extend({el:"#asignacion1-create",templateRetiro:_.template(e("#add-asignacion-retiro-tpl").html()||""),templateEnvio:_.template(e("#add-asignacion-envio-tpl").html()||""),events:{"click .submit-asignacion1":"submitAsignacion1","submit #form-asignacion1":"onStore","submit #form-asignacion2":"onStoreA2"},parameters:{type:null},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-asignacion1"),this.asignaciondetalleList=new app.AsignacionDetalleList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var t=this.model.toJSON();this.$wraperForm.html("R"==this.parameters.type?this.templateRetiro(t):this.templateEnvio(t)),this.$form=this.$("#form-asignacion1"),this.$formItem=this.$("#form-asignacion2"),this.$inputContratoId=e("#asignacion1_contrato"),this.$inputTerceroId=e("#asignacion1_tercero"),this.referenceViews()},referenceViews:function(){this.asignaciondetalleListView=new app.AsignacionDetalleListView({collection:this.asignaciondetalleList,parameters:{wrapper:this.$("#wrapper-producto"),edit:!0,dataFilter:{tipo:this.parameters.type}}})},submitAsignacion1:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.asignacion1_tipo=this.parameters.type,o.asignacion2=this.asignaciondetalleList.toJSON(),this.model.save(o,{patch:!0,silent:!0})}},onStoreA2:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var t={producto_tercero:this.$("#producto_tercero").val(),producto_contrato:this.$("#producto_contrato").val(),tercero_id:this.$inputTerceroId.val(),contrato_id:this.$inputContratoId.val()};this.asignaciondetalleList.trigger("store",this.$(e.target),t)}},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("asignaciones.show",{asignaciones:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainAsignacionView=Backbone.View.extend({el:"#asignacion1s-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$envioequipoSearchTable=this.$("#asignacion1s-search-table"),this.$searchenvioquipoTercero=this.$("#searchasignacion1_tercero"),this.$searchenvioquipoTerceroName=this.$("#searchasignacion1_tercero_nombre"),this.$searchasignacionTipo=this.$("#searchasignacion1_tipo"),this.$searchenvioquipoTecnico=this.$("#searchasignacion1_tecnico"),this.$searchenvioquipoTecnicoName=this.$("#searchasignacion1_tecnico_nombre"),this.asignacion1sSearchTable=this.$envioequipoSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("asignaciones.index")),data:function(t){t.persistent=!0,t.tercero_nit=e.$searchenvioquipoTercero.val(),t.tercero_nombre=e.$searchenvioquipoTerceroName.val(),t.asignacion_tipo=e.$searchasignacionTipo.val(),t.tecnico_nit=e.$searchenvioquipoTecnico.val(),t.tecnico_nombre=e.$searchenvioquipoTecnicoName.val()}},columns:[{data:"id",name:"id"},{data:"tercero_nombre",name:"asignacion1_tercero"},{data:"tecnico_nombre",name:"asignacion1_tecnico"},{data:"asignacion1_tipo",name:"asignacion1_tipo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Envío',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("asignaciones.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("asignaciones.show",{asignaciones:i.id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,o,i){return"E"==e?"Envio":"Retiro"}}]})},search:function(e){e.preventDefault(),this.asignacion1sSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchenvioquipoTercero.val(""),this.$searchenvioquipoTerceroName.val(""),this.$searchasignacionTipo.val(""),this.$searchenvioquipoTecnico.val(""),this.$searchenvioquipoTecnicoName.val(""),this.asignacion1sSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowAsignacionView=Backbone.View.extend({el:"#asignacion-show",initialize:function(){this.model.id!=i&&(this.asignaciondetalleList=new app.AsignacionDetalleList,this.referenceViews())},referenceViews:function(){this.asignaciondetalleListView=new app.AsignacionDetalleListView({collection:this.asignaciondetalleList,parameters:{wrapper:this.el,edit:!1,dataFilter:{asignacion2:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentAddressView=Backbone.View.extend({el:"body",template:_.template(e("#koi-address-component-tpl").html()||""),templateSelect:_.template(e("#koi-component-select-tpl").html()||""),events:{"focus input.address-koi-component":"addressChanged","click .btn-address-koi-component":"focusComponent","submit #form-address-component":"addAddress","change #component-select":"ChangeSelect","click .koi-component-remove-last":"removeLastItem","click .koi-component-remove":"removeItem","click .koi-component-add":"listeningAddress"},initialize:function(){this.$modalComponent=this.$("#modal-address-component"),this.$modalComponentValidacion=this.$("#modal-address-component-validacion")},focusComponent:function(t){e("#"+e(t.currentTarget).attr("data-field")).focus()},addressChanged:function(o){this.inputContent=e(o.currentTarget),this.inputContentNm=this.$("#"+this.inputContent.attr("data-nm-name")),this.inputContentNmValue=this.$("#"+this.inputContent.attr("data-nm-value")),this.$modalComponent.find(".content-modal").html(this.template({})),this.$addressField=this.$modalComponent.find("#koi_direccion"),this.$addressNomenclaturaField=this.$modalComponent.find("#koi_direccion_nm"),this.$formComponent=this.$modalComponent.find("#form-address-component"),this.addressData=new Array,this.addressDataNm=new Array,this.num=new Array,this.validaciones=["Agencia","Agrupación","Almacen","Autopista","Avenida","Avenida Carrera","Barrio","Boulevar","Calle","Camino","Carrera","Carretera","Casa","Celula","Centro Comercial","Ciudadela","Conjunto","Conjunto Residencial","Corregimiento","Departamento","Deposito","Edificio","Entrada","Etapa","Finca","Hacienda","Lote","Modulo","Municipio","Parcela","Parque","Parqueadero","Pasaje","Paseo","Predio","Puente","Puesto","Salón","Salón Comunal","Sector","Suite","Terminal","Terraza","Torre","Unidad","Unidad Residencial","Urbanización","Variante","Vereda","Zona","Zona Franca"],"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initAlertify&&t.initComponent.initAlertify(),this.$formComponent.validator(),this.$modalComponent.modal("show")},addAddress:function(t){var o=this;t.isDefaultPrevented()||(t.preventDefault(),this.inputContent.val(this.$addressField.val()),this.inputContentNm.text(this.$addressNomenclaturaField.val()),this.inputContentNmValue.val(this.$addressNomenclaturaField.val()),this.$modalComponent.modal("hide"),e(".modal.in").length>0&&setTimeout(function(){o.$el.addClass("modal-open")},500))},listeningAddress:function(t){if(parseInt(e(t.target).text().trim())>0||parseInt(e(t.target).text().trim())<9)this.num=e(t.target).text().trim(),parseInt(this.addressData[this.addressData.length-1])>0||parseInt(this.addressData[this.addressData.length-1])<9?(this.addressData[this.addressData.length-1]+=this.num,this.addressDataNm[this.addressDataNm.length-1]+=this.num):(this.addressData.push(this.num),this.addressDataNm.push(this.num));else if(this.num=[],this.addressData[this.addressData.length-1]!=e(t.target).text().trim()){for(var o=0;o<this.validaciones.length;o++)e(t.target).text().trim()==this.validaciones[o]&&(this.$modalComponentValidacion.find(".modal-content").html(this.templateSelect({})),this.$modalComponentValidacion.find(".modal-title").text(e(t.target).text().trim()),this.$modalComponentValidacion.modal("show"));"#"==e(t.target).text().trim()||"-"==e(t.target).text().trim()?(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(" ")):(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(e(t.target).attr("data-key")))}else alertify.error("No puede seleccionar dos nomenclaturas iguales ni más de dos letras seguidas");this.buildAddress()},ChangeSelect:function(t){var o=this;this.$component=this.$("#component-input").hide();var i="";if("si"==e(t.target).val())o.$component.show(),e("input#component-input-text").change(function(){for(var t=e(this).val(e(this).val().toUpperCase()),r=/[^A-Za-z0-9&]/i,n=0;n<=t.val().length-1;n++)r.test(t.val().charAt(n))||(t.val().replace(r,""),i+=t.val().charAt(n));o.addressData.push(i),o.addressDataNm.push(i),o.buildAddress(),o.$modalComponentValidacion.modal("hide"),setTimeout(function(){o.$el.addClass("modal-open")},500)});else{if("no"!=e(t.target).val())return!1;o.$modalComponentValidacion.modal("hide")}o.$modalComponent.length>0&&setTimeout(function(){o.$el.addClass("modal-open")},500)},removeLastItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.pop(),this.addressDataNm.pop(),this.buildAddress())},removeItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.length=0,this.addressDataNm.length=0,this.num.length=0,this.buildAddress())},buildAddress:function(){var t=e.grep(this.addressData,Boolean).join(" ").trim();this.$addressField.val(t);var o=e.grep(this.addressDataNm,Boolean).join(" ").trim();this.$addressNomenclaturaField.val(o)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ConfirmWindow=Backbone.View.extend({el:"#modal-confirm-component",parameters:{template:null,titleConfirm:"",onConfirm:null,callBack:null,dataFilter:{}},initialize:function(e){e!=i&&_.isObject(e.parameters)&&(this.parameters=_.extend({},this.parameters,e.parameters))},render:function(){var t={};return _.extend(t,this.parameters.dataFilter),this.$el.find(".content-modal").html(this.parameters.template(t)),this.$el.find(".inner-title-modal").html(this.parameters.titleConfirm),this.$el.modal("show"),e(this.el).off("click",".confirm-action"),this.undelegateEvents(),this.delegateEvents({"click .confirm-action":"onConfirm"}),this},onConfirm:function(e){e.preventDefault();this.$el.modal("hide"),"function"==typeof this.parameters.onConfirm&&this.parameters.onConfirm.call(null,this.parameters.dataFilter)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentCreateResourceView=Backbone.View.extend({el:"body",events:{"click .btn-add-resource-koi-component":"addResource","submit #form-create-resource-component":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperError=this.$("#error-resource-component"),this.$wraperContent=this.$("#content-create-resource-component").find(".modal-body")},addResource:function(t){if(this.resource=e(t.currentTarget).attr("data-resource"),this.$resourceField=e("#"+e(t.currentTarget).attr("data-field")),this.parameters={},"contacto"==this.resource&&(this.$inputPhone=this.$("#"+e(t.currentTarget).attr("data-phone")),this.$inputAddress=this.$("#"+e(t.currentTarget).attr("data-address")),this.$inputCity=this.$("#"+e(t.currentTarget).attr("data-city")),this.$inputEmail=this.$("#"+e(t.currentTarget).attr("data-email")),this.parameters.tcontacto_tercero=e(t.currentTarget).attr("data-tercero"),_.isUndefined(this.parameters.tcontacto_tercero)||_.isNull(this.parameters.tcontacto_tercero)||""==this.parameters.tcontacto_tercero))return void alertify.error("Por favor ingrese cliente antes agregar contacto.");var o=this,i={marca:function(){o.$modalComponent.find(".inner-title-modal").html("Marca"),o.model=new app.MarcaModel;var t=_.template(e("#add-marca-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},tipo:function(){o.$modalComponent.find(".inner-title-modal").html("Tipo"),o.model=new app.TipoModel;var t=_.template(e("#add-tipo-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},tipoorden:function(){o.$modalComponent.find(".inner-title-modal").html("Tipo Orden"),o.model=new app.TipoOrdenModel;var t=_.template(e("#add-tipoorden-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},modelo:function(){o.$modalComponent.find(".inner-title-modal").html("Modelo"),o.model=new app.ModeloModel;var t=_.template(e("#add-modelo-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},estado:function(){o.$modalComponent.find(".inner-title-modal").html("Estado"),o.model=new app.EstadoModel;var t=_.template(e("#add-estado-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},dano:function(){o.$modalComponent.find(".inner-title-modal").html("Daño"),o.model=new app.DanoModel;var t=_.template(e("#add-dano-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},prioridad:function(){o.$modalComponent.find(".inner-title-modal").html("Prioridad"),o.model=new app.PrioridadModel;var t=_.template(e("#add-prioridad-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},solicitante:function(){o.$modalComponent.find(".inner-title-modal").html("Solicitante"),o.model=new app.SolicitanteModel;var t=_.template(e("#add-solicitante-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},tercero:function(){o.$modalComponent.find(".inner-title-modal").html("Tercero"),o.model=new app.TerceroModel;var t=_.template(e("#add-tercero-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON())),o.$formAccounting=o.$modalComponent.find("#form-accounting")},producto:function(){
o.$modalComponent.find(".inner-title-modal").html("Producto"),o.model=new app.ProductoModel;var t=_.template(e("#add-producto-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},pcontador:function(){o.$modalComponent.find(".inner-title-modal").html("Producto Contador"),o.model=new app.ContadorModel;var t=_.template(e("#add-contador-tpl").html());o.$modalComponent.find(".content-modal").html(t(o.model.toJSON()))},contacto:function(){o.$resourceName=e("#"+e(t.currentTarget).attr("data-name")),o.$modalComponent.find(".inner-title-modal").html("Contacto"),o.model=new app.ContactoModel;var i=_.template(e("#add-contacto-tpl").html());o.$modalComponent.find(".content-modal").html(i(o.model.toJSON()))}};i[this.resource]&&(i[this.resource](),this.$wraperError.hide().empty(),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.ready(),this.$modalComponent.modal("show"))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},onStore:function(o){if(!o.isDefaultPrevented()){this.$wraperError.hide().empty(),o.preventDefault();var i=e.extend({},this.parameters,t.Misc.formToJson(o.target));"tercero"==this.resource&&(i=e.extend({},i,t.Misc.formToJson(this.$formAccounting))),this.model.save(i,{patch:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.$wraperContent);var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return this.$wraperError.empty().append(r),void this.$wraperError.show();var n=this,a={marca:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("marca_modelo")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},tipo:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("tipo_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},tipoorden:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("tipoorden_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},modelo:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("modelo_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},estado:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("estado_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},dano:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("dano_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},prioridad:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("prioridad_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},solicitante:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("solicitante_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},tercero:function(){n.$resourceField.val(n.model.get("tercero_nit")).trigger("change")},producto:function(){n.$resourceField.val(n.model.get("sirvea_codigo")).trigger("change")},pcontador:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("contador_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},contacto:function(){n.$resourceField.val(n.model.get("id")),n.$resourceName.val(n.model.get("tcontacto_nombre")),n.$inputPhone.length&&n.$inputPhone.val(n.model.get("tcontacto_telefono")),n.$inputAddress.length&&n.$inputAddress.val(n.model.get("tcontacto_direccion")),n.$inputEmail.length&&n.$inputEmail.val(n.model.get("tcontacto_email")),n.$inputCity.length&&n.$inputCity.val(n.model.get("tcontacto_municipio")).trigger("change")}};a[this.resource]&&(a[this.resource](),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),this.$modalComponent.modal("hide"))}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentGlobalView=Backbone.View.extend({el:"body",events:{"click .sidebar-toggle":"clickSidebar"},initialize:function(){},clickSidebar:function(e){e.preventDefault();var t=new Date;t.setFullYear(t.getFullYear()+1),o.cookie="sidebar_toggle="+(this.$el.hasClass("sidebar-collapse")?"":"sidebar-collapse")+"; path=/; expires="+t.toUTCString()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentReportView=Backbone.View.extend({el:"body",events:{"click .btn-export-pdf-koi-component":"onPdf","click .btn-export-xls-koi-component":"onXls"},initialize:function(){},onPdf:function(e){this.$("#type-report-koi-component").val("pdf")},onXls:function(e){this.$("#type-report-koi-component").val("xls")}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchContactoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-contacto-component-tpl").html()||""),events:{"click .btn-koi-search-contacto-component-table":"searchContacto","click .btn-search-koi-search-contacto-component":"search","click .btn-clear-koi-search-contacto-component":"clear","click .a-koi-search-contacto-component-table":"setContacto"},initialize:function(){this.$modalComponent=this.$("#modal-search-contacto-component")},searchContacto:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchContactoNombres=this.$("#koi_search_contacto_nombres"),this.$searchContactoApellidos=this.$("#koi_search_contacto_apellidos"),this.$resourceTercero=this.$("#"+e(o.currentTarget).attr("data-tercero"));var r=this.$resourceTercero.attr("data-tercero");return _.isUndefined(r)||_.isNull(r)||""==r?void alertify.error("Por favor ingrese cliente antes agregar contacto."):(this.$contactoSearchTable=this.$modalComponent.find("#koi-search-contacto-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$inputPhone=this.$("#"+e(o.currentTarget).attr("data-phone")),this.$inputAddress=this.$("#"+e(o.currentTarget).attr("data-address")),this.$inputCity=this.$("#"+e(o.currentTarget).attr("data-city")),this.$inputEmail=this.$("#"+e(o.currentTarget).attr("data-email")),this.contactoSearchTable=this.$contactoSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.contactos.index")),data:function(e){e.tcontacto_nombres=i.$searchContactoNombres.val(),e.tcontacto_apellidos=i.$searchContactoApellidos.val(),e.tcontacto_tercero=r}},columns:[{data:"id",name:"id"},{data:"tcontacto_nombres",name:"tcontacto_nombres"},{data:"tcontacto_apellidos",name:"tcontacto_apellidos"},{data:"tcontacto_nombre",name:"tcontacto_nombre"},{data:"tcontacto_telefono",name:"tcontacto_telefono"},{data:"municipio_nombre",name:"municipio_nombre"},{data:"tcontacto_direccion",name:"tcontacto_direccion"},{data:"tcontacto_municipio",name:"tcontacto_municipio"},{data:"tcontacto_email",name:"tcontacto_email"}],columnDefs:[{targets:3,width:"40%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-contacto-component-table">'+e+"</a>"}},{targets:[0,1,2,7,8],visible:!1}]}),this.ready(),void this.$modalComponent.modal("show"))},setContacto:function(t){t.preventDefault();var o=this.contactoSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.id),this.$inputName.val(o.tcontacto_nombre),this.$inputPhone.length&&this.$inputPhone.val(o.tcontacto_telefono),this.$inputAddress.length&&this.$inputAddress.val(o.tcontacto_direccion),this.$inputCity.length&&this.$inputCity.val(o.tcontacto_municipio).trigger("change"),this.$inputEmail.length&&this.$inputEmail.val(o.tcontacto_email),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.contactoSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchContactoNombres.val(""),this.$searchContactoApellidos.val(""),this.contactoSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchContratoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-contrato-component-tpl").html()||""),events:{"click .btn-koi-search-contrato-component-table":"searchContrato","click .btn-search-koi-search-contrato-component":"search","click .btn-clear-koi-search-contrato-component":"clear","click .a-koi-search-contrato-component-table":"setContrato"},initialize:function(){this.$modalComponent=this.$("#modal-search-contrato-component")},searchContrato:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchContratoNumero=this.$("#koi_search_contrato_numero"),this.$resourceTercero=this.$("#"+e(o.currentTarget).attr("data-tercero"));var r=this.$resourceTercero.attr("data-tercero");return _.isUndefined(r)||_.isNull(r)||""==r?void alertify.error("Por favor ingrese cliente antes agregar contrato."):(this.$contratoSearchTable=this.$modalComponent.find("#koi-search-contrato-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.contratoSearchTable=this.$contratoSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("contratos.index")),data:function(e){e.contrato_numero=i.$searchContratoNumero.val(),e.contrato_tercero=r}},columns:[{data:"id",name:"id"},{data:"contrato_numero",name:"contrato_numero"},{data:"tercero_nombre",name:"contrato_tercero"},{data:"contrato_fecha",name:"contrato_fecha"},{data:"contrato_vencimiento",name:"contrato_vencimiento"},{data:"contrato_activo",name:"contrato_activo"},{data:"contrato_condiciones",name:"contrato_condiciones"}],columnDefs:[{targets:1,width:"40%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-contrato-component-table">'+e+"</a>"}},{targets:[0,2,5],visible:!1}]}),this.ready(),void this.$modalComponent.modal("show"))},setContrato:function(t){t.preventDefault();var o=this.contratoSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.id),this.$inputName.val(o.contrato_numero),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.contratoSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchContratoNumero.val(""),this.contratoSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchModeloView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-modelo-component-tpl").html()||""),events:{"click .btn-koi-search-modelo-component-table":"searchModelo","click .btn-search-koi-search-modelo-component":"search","click .btn-clear-koi-search-modelo-component":"clear","click .a-koi-search-modelo-component-table":"setModelo"},initialize:function(){this.$modalComponent=this.$("#modal-search-modelo-component")},searchModelo:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchModelo=this.$("#koi_search_modelo"),this.$searchReferencia=this.$("#koi_search_referencia"),this.$modeloSearchTable=this.$modalComponent.find("#koi-search-modelo-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$filter=this.$inputContent.attr("data-filter"),this.modeloSearchTable=this.$modeloSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("modelos.index")),data:function(e){e.modelo=i.$searchModelo.val(),e.referencia=i.$searchReferencia.val(),e.filter=i.$filter}},columns:[{data:"modelo_nombre",name:"modelo_nombre"},{data:"producto_referencia",name:"producto_referencia"}],columnDefs:[{targets:0,width:"40%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-modelo-component-table">'+e+"</a>"}}]}),this.ready(),this.$modalComponent.modal("show")},setModelo:function(t){t.preventDefault();var o=this.modeloSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.modelo_nombre),this.$inputName.val(o.producto_referencia),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.modeloSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchModelo.val(""),this.$searchReferencia.val(""),this.modeloSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchProductoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-producto-component-tpl").html()||""),events:{"change input.producto-koi-component":"productoChanged","click .btn-koi-search-producto-component":"searchProducto","click .btn-search-koi-search-producto-component":"search","click .btn-clear-koi-search-producto-component":"clear","click .a-koi-search-producto-component-table":"setProducto"},initialize:function(){this.$modalComponent=this.$("#modal-search-producto-component")},searchProducto:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchSerie=this.$("#koi_search_producto_serie"),this.$searchNombre=this.$("#koi_search_producto_nombre"),this.$productosSearchTable=this.$modalComponent.find("#koi-search-producto-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$wraperType=this.$("#"+this.$inputContent.attr("data-render")),this.$resourceContrato=this.$inputContent.attr("data-contrato"),this.resourceTercero=this.$inputContent.attr("data-tercero"),this.tipo_codigo=this.$inputContent.attr("data-tipo"),this.tipo=this.$inputContent.attr("data-tipo-asignacion"),this.asignacion_data=this.$inputContent.attr("data-asignaciones");var r=e("#asignacion1_contrato").val(),n=e("#asignacion1_tercero").val(),a=e("#orden_tercero").val();if("true"==this.$resourceContrato&&(_.isUndefined(r)||_.isNull(r)||""==r))return void alertify.error("Por favor ingrese contrato antes agregar producto.");if("true"==this.resourceTercero&&(_.isUndefined(a)||_.isNull(a)||""==a))return void alertify.error("Por favor ingrese cliente antes agregar producto.");this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(e){e.producto_serie=i.$searchSerie.val(),e.producto_nombre=i.$searchNombre.val(),e.tipo_codigo=i.tipo_codigo,e.productos_asignados=i.asignacion_data,e.tercero_id=a,e.contrato=r,e.tercero=n,e.tipo=i.tipo}},columns:[{data:"producto_serie",name:"producto_serie"},{data:"producto_referencia",name:"producto_referencia"},{data:"producto_placa",name:"producto_placa"},{data:"producto_nombre",name:"producto_nombre"},{data:"tipo_nombre",name:"producto_tipo"},{data:"tipo_codigo",name:"tipo_codigo"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-producto-component-table">'+e+"</a>"}},{targets:[1,4],visible:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-producto-component-table">'+e+"</a>"}}]});var s=this.tipo_codigo.split(",");s.indexOf("RP")==-1&&s.indexOf("CO")==-1&&s.indexOf("IN")==-1||(this.productosSearchTable.columns([0,2]).visible(!1,!1),this.productosSearchTable.column(1).visible(!0)),this.ready(),this.$modalComponent.modal("show")},setProducto:function(t){t.preventDefault();var o=this.productosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.producto_serie),this.$inputName.val(o.producto_nombre),"RP"!=o.tipo_codigo&&"CO"!=o.tipo_codigo&&"IN"!=o.tipo_codigo||this.$inputContent.val(o.producto_referencia),this.$("#producto_tercero").length&&(this.$("#producto_tercero").val(o.producto_tercero),this.$("#producto_contrato").val(o.producto_contrato)),this.$wraperType.length&&this.renderType(o.tipo_codigo,this.tipo),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchSerie.val(""),this.$searchNombre.val(""),this.productosSearchTable.ajax.reload()},productoChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper")),this.$wraperType=this.$("#"+this.$inputContent.attr("data-render"));var r=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("productos.search")),type:"GET",data:{producto_serie:r},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.producto_nombre)||_.isNull(e.producto_nombre)||i.$inputName.val(e.producto_nombre),i.$wraperType.length&&i.renderType(e.tipo_codigo))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})},renderType:function(t,o,i,r){this.$wraperType.empty();var n={};if("E"==this.tipo&&"AC"==t){n.producto_tipo=t,n.tipo=this.tipo;var a=_.template(e("#koi-search-producto-type-component-tpl").html());this.$wraperType.html(a(n))}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchTerceroView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-tercero-component-tpl").html()||""),events:{"change input.tercero-koi-component":"terceroChanged","click .btn-koi-search-tercero-component-table":"searchTercero","click .btn-search-koi-search-tercero-component":"search","click .btn-clear-koi-search-tercero-component":"clear","click .a-koi-search-tercero-component-table":"setTercero"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchTercero:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchNit=this.$("#koi_search_tercero_nit"),this.$searchName=this.$("#koi_search_tercero_nombre"),this.$tercerosSearchTable=this.$modalComponent.find("#koi-search-tercero-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.$type=this.$inputContent.attr("data-type");var r=this.$inputContent.attr("data-activo");this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(e){e.tercero_nit=i.$searchNit.val(),e.tercero_nombre=i.$searchName.val(),e.activo=r,e.type=i.$type}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-tercero-component-table">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1,searchable:!1}]}),this.ready(),this.$modalComponent.modal("show")},setTercero:function(t){t.preventDefault();var o=this.tercerosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.tercero_nit),this.$inputName.val(o.tercero_nombre),this.$btnContact.length>0&&this.$btnContact.attr("data-tercero",o.id),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()},terceroChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.$btnContact.length>0&&this.$btnContact.attr("data-tercero","");var r=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("terceros.search")),type:"GET",data:{tercero_nit:r},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||i.$inputName.val(e.tercero_nombre),i.$btnContact.length>0&&i.$btnContact.attr("data-tercero",e.id))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentTerceroView=Backbone.View.extend({el:"body",templateName:_.template(e("#tercero-name-tpl").html()||""),events:{"change .change-nit-koi-component":"nitChanged","change .change-actividad-koi-component":"actividadChanged"},initialize:function(){},nitChanged:function(o){var i=this;this.$dv=e("#"+e(o.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:e(o.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(i.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(i.$wraperContent),e.success&&i.$dv.val(e.dv)}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperContent),alertify.error(r)})},actividadChanged:function(o){var i=this;this.$retecree=e("#"+e(o.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:e(o.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(i.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(i.$wraperContent),e.success&&(_.isUndefined(e.rcree)||_.isNull(e.rcree)||i.$retecree.html(e.rcree))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperContent),alertify.error(r)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateContadorView=Backbone.View.extend({el:"#contador-create",template:_.template(e("#add-contador-tpl").html()||""),events:{"submit #form-contador":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-contador"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("contadores.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainContadoresView=Backbone.View.extend({el:"#contadores-main",initialize:function(){this.$contadoresSearchTable=this.$("#contadores-search-table"),this.$contadoresSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("contadores.index")),columns:[{data:"id",name:"id"},{data:"contador_nombre",name:"contador_nombre"},{data:"contador_activo",name:"contador_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo contador',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("contadores.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("contadores.show",{contadores:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContratoItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#contrato-item-list-tpl").html()||""),events:{"click .btn-edit-contrato":"editContrato"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContratosListView=Backbone.View.extend({el:"#browse-contratos-danos-list",events:{"click .item-contratodano-remove":"removeOne"},parameters:{wrapper:!1,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{contrato_id:this.parameters.dataFilter.contrato_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.ContratoItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.contratodano_contrato=this.parameters.dataFilter.contrato_id;var i=new app.ContratoDanoModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateContratoView=Backbone.View.extend({el:"#contratos-create",template:_.template(e("#add-contrato-tpl").html()||""),events:{"submit #form-contrato":"onStore","submit #form-danoc":"onStoreDano"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Contrato guardado con exito!",this.$wraperForm=this.$("#render-form-contrato"),this.model.id!=i&&(this.contratosList=new app.ContratosList),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-contrato"),this.model.id!=i&&this.referenceViews(),this.ready()},referenceViews:function(){this.contratosListView=new app.ContratosListView({collection:this.contratosList,parameters:{edit:!0,wrapper:this.$("#wrapper-danos-contrato"),dataFilter:{contrato_id:this.model.get("id")}}})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},onStoreDano:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.contratosList.trigger("store",o)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);alertify.success(this.msgSuccess),this.createContratoView instanceof Backbone.View&&(this.createContratoView.stopListening(),this.createContratoView.undelegateEvents()),Backbone.history.navigate(Route.route("contratos.edit",{contratos:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainContratosView=Backbone.View.extend({el:"#contrato-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$contratosSearchTable=this.$("#contrato-search-table"),this.$searchcontratoContrato=this.$("#searchcontrato_contrato_numero"),this.$searchcontratoTercero=this.$("#searchcontrato_tercero"),this.$searchcontratoTerceroName=this.$("#searchcontrato_tercero_nombre"),this.contratosSearchTable=this.$contratosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("contratos.index")),data:function(t){t.persistent=!0,t.contrato_numero=e.$searchcontratoContrato.val(),t.tercero_nit=e.$searchcontratoTercero.val(),t.tercero_nombre=e.$searchcontratoTerceroName.val()}},columns:[{data:"contrato_numero",name:"contrato_numero"},{data:"tercero_nombre",
name:"contrato_tercero"},{data:"contrato_fecha",name:"contrato_fecha"},{data:"contrato_vencimiento",name:"contrato_vencimiento"},{data:"contrato_activo",name:"contrato_activo"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("contratos.show",{contratos:i.id}))+'">'+e+"</a>"}},{targets:4,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})},search:function(e){e.preventDefault(),this.contratosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchcontratoContrato.val(""),this.$searchcontratoTercero.val(""),this.$searchcontratoTerceroName.val(""),this.contratosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowContratoView=Backbone.View.extend({el:"#contrato-main",initialize:function(){this.model.id!=i&&(this.contratosList=new app.ContratosList,this.referenceViews())},referenceViews:function(){this.contratosListView=new app.ContratosListView({collection:this.contratosList,parameters:{edit:!1,wrapper:this.$("#wrapper-danos-contrato"),dataFilter:{contrato_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateDanoView=Backbone.View.extend({el:"#dano-create",template:_.template(e("#add-dano-tpl").html()||""),events:{"submit #form-dano":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-dano"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("danos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainDanosView=Backbone.View.extend({el:"#danos-main",initialize:function(){this.$danosSearchTable=this.$("#danos-search-table"),this.$danosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("danos.index")),columns:[{data:"id",name:"id"},{data:"dano_nombre",name:"dano_nombre"},{data:"dano_activo",name:"dano_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Daño',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("danos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("danos.show",{danos:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainDepartamentoView=Backbone.View.extend({el:"#departamentos-main",initialize:function(){this.$departamentosSearchTable=this.$("#departamentos-search-table"),this.$departamentosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("departamentos.index")),columns:[{data:"departamento_codigo",name:"departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateEstadoView=Backbone.View.extend({el:"#estado-create",template:_.template(e("#add-estado-tpl").html()||""),events:{"submit #form-estado":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-estado"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("estados.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainEstadosView=Backbone.View.extend({el:"#estados-main",initialize:function(){this.$estadosSearchTable=this.$("#estados-search-table"),this.$estadosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("estados.index")),columns:[{data:"id",name:"id"},{data:"estado_nombre",name:"estado_nombre"},{data:"estado_activo",name:"estado_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo estado',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("estados.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("estados.show",{estados:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.UserLoginView=Backbone.View.extend({el:"#login-box",initialize:function(){this.$loginForm=e("#form-login-account"),this.$loginForm.validator()},render:function(){}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateMarcaView=Backbone.View.extend({el:"#marca-create",template:_.template(e("#add-marca-tpl").html()||""),events:{"submit #form-marca":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-marca"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("marcas.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainMarcasView=Backbone.View.extend({el:"#marcas-main",initialize:function(){this.$marcasSearchTable=this.$("#marcas-search-table"),this.$marcasSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("marcas.index")),columns:[{data:"id",name:"id"},{data:"marca_modelo",name:"marca_modelo"},{data:"marca_activo",name:"marca_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva marca',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("marcas.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("marcas.show",{marcas:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateModeloView=Backbone.View.extend({el:"#modelo-create",template:_.template(e("#add-modelo-tpl").html()||""),events:{"submit #form-modelo":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-modelo"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("modelos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainModelosView=Backbone.View.extend({el:"#modelos-main",initialize:function(){this.$modelosSearchTable=this.$("#modelos-search-table"),this.$modelosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("modelos.index")),columns:[{data:"id",name:"id"},{data:"modelo_nombre",name:"modelo_nombre"},{data:"modelo_activo",name:"modelo_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Modelo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("modelos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("modelos.show",{modelos:i.id}))+'">'+e+"</a>"}},{targets:[2],width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainModuloView=Backbone.View.extend({el:"#modulos-main",initialize:function(){this.$modulosSearchTable=this.$("#modulos-search-table"),this.$modulosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("modulos.index")),columns:[{data:"display_name",name:"display_name"},{data:"name",name:"name"}],columnDefs:[{targets:0,width:"25%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainMunicipioView=Backbone.View.extend({el:"#municipios-main",initialize:function(){this.$municipiosSearchTable=this.$("#municipios-search-table"),this.$municipiosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("municipios.index")),columns:[{data:"departamento_codigo",name:"departamento.departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"},{data:"municipio_codigo",name:"municipio_codigo"},{data:"municipio_nombre",name:"municipio_nombre"},{data:"departamento_id",name:"departamento_id"}],columnDefs:[{targets:0,width:"15%"},{targets:1,width:"35%"},{targets:2,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("departamentos.show",{departamentos:i.departamento_id}))+'">'+e+"</a>"}},{targets:3,width:"35%"},{targets:4,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContadoresItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#contadoresp-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContadorespView=Backbone.View.extend({el:"#browse-orden-contadoresp-list",events:{"click .item-contadoresp-remove":"removeOne"},parameters:{wrapper:!1,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{producto_id:this.parameters.dataFilter.producto_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.ContadoresItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.producto_id=this.parameters.dataFilter.producto_id;var i=new app.ContadorespModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateOrdenView=Backbone.View.extend({el:"#ordenes-create",template:_.template(e("#add-orden-tpl").html()||""),events:{"click .submit-orden":"submitOrden","submit #form-orden":"onStore","click .submit-visitas":"submitVisita","submit #form-visitas":"onStoreVisita","submit #form-contadoresp":"onStoreContadoresp","submit #form-visitasp":"onStoreVisitap"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Orden guardada con exito!",this.$wraperForm=this.$("#render-form-orden"),this.model.id!=i&&(this.visita=new app.VisitaCollection,this.visitap=new app.VisitapCollection,this.contadoresp=new app.ContadorespCollection),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-orden"),this.$formvisitasp=this.$("#form-visitas"),this.$formcontadoresp=this.$("#form-contadoresp"),this.model.id!=i&&this.referenceViews(),this.ready()},referenceViews:function(){this.visitasView=new app.VisitasView({collection:this.visita,parameters:{edit:!0,wrapper:this.$("#wrapper-visitas"),dataFilter:{orden_id:this.model.get("id")}}}),this.visitaspView=new app.VisitaspView({collection:this.visitap,parameters:{edit:!0,wrapper:this.$("#wrapper-visitasp"),dataFilter:{orden_id:this.model.get("id")}}}),this.contadorespView=new app.ContadorespView({collection:this.contadoresp,parameters:{edit:!0,wrapper:this.$("#wrapper-contadoresp"),dataFilter:{producto_id:this.model.get("id_p")}}})},submitOrden:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},submitVisita:function(e){this.$formvisitasp.submit()},onStoreVisita:function(o){if(!o.isDefaultPrevented()){o.preventDefault();var i=t.Misc.formToJson(o.target);i.visita_orden=this.model.get("id"),i=e.extend({},i,t.Misc.formToJson(this.$formcontadoresp)),i.visitap=this.visitap.toJSON(),this.visita.trigger("store",i)}},onStoreVisitap:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.visitap.trigger("store",o)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);alertify.success(this.msgSuccess),this.createOrdenView instanceof Backbone.View&&(this.createOrdenView.stopListening(),this.createOrdenView.undelegateEvents()),Backbone.history.navigate(Route.route("ordenes.edit",{ordenes:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainOrdenesView=Backbone.View.extend({el:"#orden-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$ordenesSearchTable=this.$("#orden-search-table"),this.$searchordenOrden=this.$("#searchorden_orden_id"),this.$searchordenTercero=this.$("#searchorden_tercero"),this.$searchordenTerceroName=this.$("#searchorden_tercero_nombre"),this.$searchordenEstado=this.$("#searchorden_orden_estado"),this.ordenesSearchTable=this.$ordenesSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("ordenes.index")),data:function(t){t.persistent=!0,t.id=e.$searchordenOrden.val(),t.tercero_nit=e.$searchordenTercero.val(),t.tercero_nombre=e.$searchordenTerceroName.val(),t.orden_abierta=e.$searchordenEstado.val()}},columns:[{data:"id",name:"id"},{data:"orden_fecha",name:"orden_fecha"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"orden_abierta",name:"orden_abierta"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("ordenes.show",{ordenes:i.id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})},search:function(e){e.preventDefault(),this.ordenesSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchordenOrden.val(""),this.$searchordenTercero.val(""),this.$searchordenTerceroName.val(""),this.$searchordenEstado.val(""),this.ordenesSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowOrdenView=Backbone.View.extend({el:"#orden-main",initialize:function(){this.model.id!=i&&(this.visita=new app.VisitaCollection,this.referenceViews())},referenceViews:function(){this.visitasView=new app.VisitasView({collection:this.visita,parameters:{edit:!1,wrapper:this.$("#wrapper-visitas"),dataFilter:{orden_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.VisitasItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#visita-item-list-tpl").html()||""),templateInfo:_.template(e("#show-info-visita-tpl").html()||""),events:{"click .item-visita-show-info":"showInfoVisita"},parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalInfo=e("#modal-visita-show-info-component"),this.visitap=new app.VisitapCollection,this.contadoresp=new app.ContadorespCollection,this.listenTo(this.model,"change",this.render),this.listenTo(this.visitap,"reset",this.addAllVisitasp),this.listenTo(this.contadoresp,"reset",this.addAllContadoresp)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this},showInfoVisita:function(){var e=this.model.toJSON();this.$modalInfo.find(".content-modal").empty().html(this.templateInfo(e)),this.$wrapperVisitasp=this.$modalInfo.find("#browse-orden-visitasp-show-list"),this.$wrapperContadoresp=this.$modalInfo.find("#browse-orden-contadoresp-show-list"),this.visitap.fetch({reset:!0,data:{visitap:this.model.get("id")}}),this.contadoresp.fetch({reset:!0,data:{contadoresp:this.model.get("id")}}),this.$modalInfo.modal("show")},addOneVisitasp:function(e){var t=new app.VisitaspItemView({model:e});this.$wrapperVisitasp.append(t.render().el)},addOneContadoresp:function(e){var t=new app.ContadoresItemView({model:e,parameters:{edit:!1}});this.$wrapperContadoresp.append(t.render().el)},addAllVisitasp:function(){this.visitap.forEach(this.addOneVisitasp,this)},addAllContadoresp:function(){this.contadoresp.forEach(this.addOneContadoresp,this)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.VisitasView=Backbone.View.extend({el:"#browse-visitas-list",events:{"click .item-visita-remove":"removeOne"},parameters:{wrapper:!1,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{orden_id:this.parameters.dataFilter.orden_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.VisitasItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.visita_orden=this.parameters.dataFilter.orden_id;var i=new app.VisitaModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.VisitaspItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#visitap-item-list-tpl").html()||""),events:{},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalInfo=e("#modal-visita-show-info-component"),this.parameters.wrapper,this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.VisitaspView=Backbone.View.extend({el:"#browse-orden-visitasp-list",events:{"click .item-visitap-remove":"removeOne"},parameters:{wrapper:!1,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer)},render:function(){},addOne:function(e){var t=new app.VisitaspItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.visitap_orden=this.parameters.dataFilter.orden_id;var i=new app.VisitapModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=this.collection.get(o);i instanceof Backbone.Model&&(i.view.remove(),this.collection.remove(i))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainPermisoView=Backbone.View.extend({el:"#permisos-main",initialize:function(){this.$permisosSearchTable=this.$("#permisos-search-table"),this.$permisosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("permisos.index")),columns:[{data:"name",name:"name"},{data:"display_name",name:"display_name"},{data:"description",name:"description"}],columnDefs:[{targets:0,width:"15%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreatePrioridadView=Backbone.View.extend({el:"#prioridad-create",template:_.template(e("#add-prioridad-tpl").html()||""),events:{"submit #form-prioridad":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-prioridad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("prioridades.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainPrioridadesView=Backbone.View.extend({el:"#prioridades-main",initialize:function(){this.$prioridadesSearchTable=this.$("#prioridades-search-table"),this.$prioridadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("prioridades.index")),columns:[{data:"id",name:"id"},{data:"prioridad_nombre",name:"prioridad_nombre"},{data:"prioridad_activo",name:"prioridad_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva prioridad',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("prioridades.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("prioridades.show",{prioridades:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateProductoView=Backbone.View.extend({el:"#producto-create",template:_.template(e("#add-producto-tpl").html()||""),templateEq:_.template(e("#tipo-eq-tpl").html()||""),templateAc:_.template(e("#tipo-ac-tpl").html()||""),templateRp:_.template(e("#tipo-rp-tpl").html()||""),templateInCo:_.template(e("#tipo-inco-tpl").html()||""),events:{"submit #form-producto":"onStore","submit #form-item-sirvea":"onStoreItem","submit #form-item-productocontador":"onStorePcontador","change .select-tipo":"changeTipo"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-producto"),this.model.id!=i&&(this.sirveasList=new app.SirveasList,this.productoscontadorList=new app.ProductosContadorList),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-producto"),this.$wrapper=this.$("#render-tipos"),this.model.id!=i&&this.referenceViews(),this.ready()},validarTipo:function(e){if("EQ"==e){var t=this.model.toJSON();this.$wrapper.html(this.templateEq(t)),this.ready()}else if("AC"==e){var t=this.model.toJSON();this.$wrapper.html(this.templateAc(t)),this.ready()}else if("RP"==e){var t=this.model.toJSON();this.$wrapper.html(this.templateRp(t)),this.ready()}else{if("IN"!=e&&"CO"!=e)return alertify.error("error inesperado, consulte al administrador"),!1;var t=this.model.toJSON();this.$wrapper.html(this.templateInCo(t)),this.ready()}},referenceViews:function(){"EQ"!=this.model.get("tipo_codigo")?this.sirveasListView=new app.SirveasListView({collection:this.sirveasList,parameters:{edit:!0,wrapper:this.$("#wrapper-producto-sirveas"),dataFilter:{producto_id:this.model.get("id")}}}):this.productoscontadorListView=new app.ProductosContadorListView({collection:this.productoscontadorList,parameters:{edit:!0,wrapper:this.$("#wrapper-producto-productoscontador"),dataFilter:{producto_id:this.model.get("id")}}}),this.validarTipo(this.model.get("tipo_codigo")),this.$("#producto_tipo").attr("disabled",!0)},changeTipo:function(o){var r=this,n=e(o.currentTarget).val();r.model.id!=i?r.referenceViews():""!=n&&e.ajax({url:t.Misc.urlFull(Route.route("tipos.show",{tipos:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(r.el)}}).done(function(e){t.Misc.removeSpinner(r.el),r.validarTipo(e.tipo_codigo)}).fail(function(e,o,i){t.Misc.removeSpinner(r.el),alertify.error(i)})},onStore:function(o){if(!o.isDefaultPrevented()){o.preventDefault();var i=e.extend({producto_tipo:this.$("#producto_tipo").val()},t.Misc.formToJson(o.target));this.model.save(i,{patch:!0,silent:!0})}},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.sirveasList.trigger("store",o);
}},onStorePcontador:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.productoscontadorList.trigger("store",o)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),Backbone.history.navigate(Route.route("productos.edit",{productos:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainProductosView=Backbone.View.extend({el:"#productos-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$productosSearchTable=this.$("#productos-search-table"),this.$searchSerie=this.$("#producto_serie"),this.$searchName=this.$("#producto_nombre"),this.$searchproductoTipo=this.$("#searchproducto_tipo"),this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-4'><'col-sm-4 text-center'l>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(t){t.persistent=!0,t.producto_serie=e.$searchSerie.val(),t.producto_nombre=e.$searchName.val(),t.producto_tipo=e.$searchproductoTipo.val()}},columns:[{data:"id",name:"id"},{data:"producto_placa",name:"producto_placa"},{data:"producto_serie",name:"producto_serie"},{data:"producto_nombre",name:"producto_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo producto',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("productos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("productos.show",{productos:i.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchSerie.val(""),this.$searchName.val(""),this.productosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ProductoContadorItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-productocontador-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ProductosContadorListView=Backbone.View.extend({el:"#browse-productoscontador-producto-list",events:{"click .item-productocontador-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{producto_id:this.parameters.dataFilter.producto_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.ProductoContadorItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.productocontador_producto=this.parameters.dataFilter.producto_id;var i=new app.ProductoContadorModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowProductoView=Backbone.View.extend({el:"#productos-main",initialize:function(){this.model.id!=i&&(this.sirveasList=new app.SirveasList,this.productoscontadorList=new app.ProductosContadorList,this.referenceViews())},referenceViews:function(){this.sirveasListView=new app.SirveasListView({collection:this.sirveasList,parameters:{edit:!1,wrapper:this.$("#wrapper-producto-sirveas"),dataFilter:{producto_id:this.model.get("id")}}}),this.productoscontadorListView=new app.ProductosContadorListView({collection:this.productoscontadorList,parameters:{edit:!1,wrapper:this.$("#wrapper-producto-productoscontador"),dataFilter:{producto_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.SirveaItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-sirvea-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.SirveasListView=Backbone.View.extend({el:"#browse-sirveas-producto-list",events:{"click .item-sirvea-remove":"removeOne"},parameters:{wrapper:!1,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{producto_id:this.parameters.dataFilter.producto_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.SirveaItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.sirvea_modelo=this.parameters.dataFilter.producto_id;var i=new app.SirveaModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateRolView=Backbone.View.extend({el:"#rol-create",template:_.template(e("#add-rol-tpl").html()||""),events:{"submit #form-roles":"onStore","click .toggle-children":"toggleChildren","click .btn-set-permission":"changePermissions"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.stuffToDo={},this.stuffToVw={},this.$wraperForm=this.$("#render-form-rol"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-roles")},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},toggleChildren:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=e(t.currentTarget).attr("data-father"),r=e(t.currentTarget).attr("data-nivel1"),n=e(t.currentTarget).attr("data-nivel2");this.stuffToVw[o]instanceof Backbone.View==0&&(this.stuffToDo[o]=new app.PermisosRolList,this.stuffToVw[o]=new app.PermisosRolListView({el:"#wrapper-permisions-"+o,collection:this.stuffToDo[o],parameters:{wrapper:this.$("#wrapper-father-"+i),permissions:this.model.get("permissions"),father:o,dataFilter:{role_id:this.model.get("id"),nivel1:r,nivel2:n}}}))},changePermissions:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=e(t.currentTarget).attr("data-father"),r=this.stuffToDo[i],n=r.get(o);this.createPermisoRolView instanceof Backbone.View&&(this.createPermisoRolView.stopListening(),this.createPermisoRolView.undelegateEvents()),this.createPermisoRolView=new app.CreatePermisoRolView({model:n,collection:r,parameters:{permissions:this.model.get("permissions"),dataFilter:{role_id:this.model.get("id"),nivel1:n.get("nivel1"),nivel2:n.get("nivel2")}}}),this.createPermisoRolView.render()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);Backbone.history.navigate(Route.route("roles.edit",{roles:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreatePermisoRolView=Backbone.View.extend({el:"#modal-permisorol-component",template:_.template(e("#edit-permissions-tpl").html()||""),events:{"submit #form-permisorol-component":"onStore"},parameters:{permissions:[],dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$el.find(".inner-title-modal").empty().html(this.model.get("display_name")),this.$wraperContent=this.$el.find(".modal-body"),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();return e.permissions=this.parameters.permissions,this.$el.find(".content-modal").empty().html(this.template(e)),this.ready(),this.$el.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.role_id=this.parameters.dataFilter.role_id,this.model.save(o,{patch:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.collection.fetch({data:this.parameters.dataFilter,reset:!0}),this.$el.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainRolesView=Backbone.View.extend({el:"#roles-main",initialize:function(){this.$rolesSearchTable=this.$("#roles-search-table"),this.$rolesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("roles.index")),columns:[{data:"display_name",name:"display_name"},{data:"name",name:"name"},{data:"description",name:"description"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Rol',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("roles.create")))}}],columnDefs:[{targets:0,width:"25%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("roles.show",{roles:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.PermisosRolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#permissions-rol-list-tpl").html()||""),parameters:{father:null,permissions:[],edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,e.father=this.parameters.father,e.permissions=this.parameters.permissions,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.PermisosRolListView=Backbone.View.extend({events:{},parameters:{wrapper:null,father:null,edit:!1,permissions:[],dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.PermisosRolItemView({model:e,parameters:{father:this.parameters.father,permissions:this.parameters.permissions,edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateSolicitanteView=Backbone.View.extend({el:"#solicitante-create",template:_.template(e("#add-solicitante-tpl").html()||""),events:{"submit #form-solicitante":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-solicitante"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("solicitantes.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainSolicitantesView=Backbone.View.extend({el:"#solicitantes-main",initialize:function(){this.$solicitantesSearchTable=this.$("#solicitantes-search-table"),this.$solicitantesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("solicitantes.index")),columns:[{data:"id",name:"id"},{data:"solicitante_nombre",name:"solicitante_nombre"},{data:"solicitante_activo",name:"solicitante_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva solicitud',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("solicitantes.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("solicitantes.show",{solicitantes:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateSucursalView=Backbone.View.extend({el:"#sucursales-create",template:_.template(e("#add-sucursal-tpl").html()||""),events:{"submit #form-sucursales":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-sucursal"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainSucursalesView=Backbone.View.extend({el:"#sucursales-main",initialize:function(){this.$sucursalesSearchTable=this.$("#sucursales-search-table"),this.$sucursalesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("sucursales.index")),columns:[{data:"sucursal_nombre",name:"sucursal_nombre"},{data:"sucursal_direccion",name:"sucursal_direccion"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva sucursal',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.create")))}}],columnDefs:[{targets:0,render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("sucursales.show",{sucursales:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContactItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#contact-item-list-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContactsListView=Backbone.View.extend({el:"#browse-contact-list",events:{"click .btn-edit-tcontacto":"editOne"},parameters:{dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.on("createOne",this.createOne,this),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.ContactItemView({model:e});this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},editOne:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=this.collection.get(o);this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:i}),this.createTContactoView.render()},createOne:function(e){var t=this;this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:new app.ContactoModel,collection:t.collection,parameters:{tercero_id:e}}),this.createTContactoView.render()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTerceroView=Backbone.View.extend({el:"#tercero-create",template:_.template(e("#add-tercero-tpl").html()||""),events:{"submit #form-tercero":"onStore","submit #form-item-roles":"onStoreRol","submit #form-changed-password":"onStorePassword","ifChanged .change_employee":"changedEmployee","ifChanged #tercero_tecnico":"changedTechnical","click .btn-add-tcontacto":"addContacto"},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Tercero guardado con exito!",this.$wraperForm=this.$("#render-form-tercero"),this.model.id!=i&&(this.contactsList=new app.ContactsList,this.rolList=new app.RolList),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-tercero"),this.$formAccounting=this.$("#form-accounting"),this.$formEmployee=this.$("#form-employee"),this.$checkEmployee=this.$("#tercero_empleado"),this.$checkInternal=this.$("#tercero_interno"),this.$coordinador_por=this.$("#tercero_coordinador_por"),this.$zona=this.$("#tercero_zona"),this.$activo=this.$("#tercero_activo"),this.$tecnico=this.$("#tercero_tecnico"),this.$coordinador=this.$("#tercero_coordinador"),this.$username=this.$("#username"),this.$password=this.$("#password"),this.$password_confirmation=this.$("#password_confirmation"),this.$wrapperEmployes=this.$("#wrapper-empleados"),this.$wrapperCoordinador=this.$("#wrapper-coordinador"),this.model.id!=i&&this.referenceViews(),this.ready()},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{edit:!0,wrapper:this.$("#wrapper-tcontacto"),dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!0,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}})},onStore:function(o){if(!o.isDefaultPrevented()){o.preventDefault();var i=e.extend({},t.Misc.formToJson(o.target),t.Misc.formToJson(this.$formAccounting),t.Misc.formToJson(this.$formEmployee));this.model.save(i,{patch:!0,silent:!0})}},onStoreRol:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.rolList.trigger("store",o)}},addContacto:function(){this.contactsListView.trigger("createOne",this.model.get("id"))},changedTechnical:function(t){var o=e(t.target).is(":checked");this.$coordinador_por.trigger("change"),this.$zona.trigger("change"),o?this.$wrapperCoordinador.removeClass("hide"):(this.$wrapperCoordinador.addClass("hide"),this.$coordinador_por.val(""),this.$zona.val(""))},changedEmployee:function(e){this.$checkInternal.is(":checked")||this.$checkEmployee.is(":checked")?this.$wrapperEmployes.removeClass("hide"):(this.$wrapperEmployes.addClass("hide"),this.$tecnico.iCheck("uncheck"),this.$coordinador.iCheck("uncheck"),this.$activo.iCheck("uncheck"))},onStorePassword:function(o){var i=this;if(!o.isDefaultPrevented()){o.preventDefault();var r=t.Misc.formToJson(o.target);r.id=this.model.get("id"),e.ajax({type:"POST",url:t.Misc.urlFull(Route.route("terceros.setpassword")),data:r,beforeSend:function(){t.Misc.setSpinner(i.$("#wrapper-password"))}}).done(function(e){if(t.Misc.removeSpinner(i.el),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);alertify.success(e.message)}}).fail(function(e,o,r){t.Misc.removeSpinner(i.$("#wrapper-password")),alertify.error(r)})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);alertify.success(this.msgSuccess),this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),Backbone.history.navigate(Route.route("terceros.edit",{terceros:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTContactoView=Backbone.View.extend({el:"body",template:_.template(e("#add-contacto-tpl").html()||""),events:{"submit #form-tcontacto-component":"onStore"},parameters:{tercero_id:null},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.$modalComponent=this.$("#modal-tcontacto-component")},render:function(){var e=this.model.toJSON();return this.$modalComponent.find(".content-modal").html("").html(this.template(e)),this.$wraperContent=this.$("#content-tcontacto-component").find(".modal-body"),this.ready(),this.$modalComponent.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);_.isUndefined(this.parameters.tercero_id)||_.isNull(this.parameters.tercero_id)||""==this.parameters.tercero_id||(o.tcontacto_tercero=this.parameters.tercero_id),this.model.save(o,{patch:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.collection instanceof Backbone.Collection&&this.collection.add(e),this.$modalComponent.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainTerceroView=Backbone.View.extend({el:"#terceros-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$tercerosSearchTable=this.$("#terceros-search-table"),this.$searchNit=this.$("#tercero_nit"),this.$searchName=this.$("#tercero_nombre"),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(t){t.persistent=!0,t.tercero_nit=e.$searchNit.val(),t.tercero_nombre=e.$searchName.val()}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("terceros.show",{terceros:i.id}))+'">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1}]})},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.RolesListView=Backbone.View.extend({el:"#browse-roles-list",events:{"click .item-roles-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.RolItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.user_id=this.parameters.dataFilter.tercero_id;var i=new app.UsuarioRolModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({data:{user_id:this.parameters.dataFilter.tercero_id},processData:!0,success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.RolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#roles-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowTerceroView=Backbone.View.extend({el:"#terceros-main",initialize:function(){this.model.id!=i&&(this.contactsList=new app.ContactsList,this.rolList=new app.RolList,this.referenceViews())},referenceViews:function(){this.contactsListView=new app.ContactsListView({
collection:this.contactsList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!1,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTipoView=Backbone.View.extend({el:"#tipo-create",template:_.template(e("#add-tipo-tpl").html()||""),events:{"submit #form-tipo":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipo"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("tipos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainTiposView=Backbone.View.extend({el:"#tipos-main",initialize:function(){this.$tiposSearchTable=this.$("#tipos-search-table"),this.$tiposSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tipos.index")),columns:[{data:"id",name:"id"},{data:"tipo_codigo",name:"tipo_codigo"},{data:"tipo_nombre",name:"tipo_nombre"},{data:"tipo_activo",name:"tipo_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo tipo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("tipos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("tipos.show",{tipos:i.id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTipoOrdenView=Backbone.View.extend({el:"#tipoorden-create",template:_.template(e("#add-tipoorden-tpl").html()||""),events:{"submit #form-tipoorden":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipoorden"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("tiposorden.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainTiposOrdenView=Backbone.View.extend({el:"#tiposorden-main",initialize:function(){this.$tiposordenSearchTable=this.$("#tiposorden-search-table"),this.$tiposordenSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tiposorden.index")),columns:[{data:"id",name:"id"},{data:"tipoorden_nombre",name:"tipoorden_nombre"},{data:"tipoorden_activo",name:"tipoorden_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Tipo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("tiposorden.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("tiposorden.show",{tiposorden:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateZonaView=Backbone.View.extend({el:"#zona-create",template:_.template(e("#add-zona-tpl").html()||""),events:{"submit #form-zona":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-zona"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("zonas.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainZonasView=Backbone.View.extend({el:"#zonas-main",initialize:function(){this.$zonasSearchTable=this.$("#zonas-search-table"),this.$zonasSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("zonas.index")),columns:[{data:"id",name:"id"},{data:"zona_nombre",name:"zona_nombre"},{data:"zona_activo",name:"zona_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva Zona',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("zonas.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("zonas.show",{zonas:i.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,o,i){return e?"Si":"No"}}]})}})}(jQuery,this,this.document),function(e,t,o,i){var r=function(e){};r.prototype={initialize:function(){},formToJson:function(t){var o={},r=[];return r=e.prototype.isPrototypeOf(t)?t.serializeArray():e(t).serializeArray(),e.each(r,function(){o[this.name]!==i?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""}),o},isUrl:function(e){var t=/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;return t.test(e)},urlFull:function(e){if(!this.isUrl(o.url))return e;e||(e="");var t=/^\//;return t.test(e)||(e="/"+e),o.url+e},parseErrors:function(t){var o="";if(_.isObject(t)){var i="<ul>";e.each(t,function(e,t){i+="<li>"+t[0]+"</li>"}),i+="</ul>",o=i}return o},setSpinner:function(t){t&&e(t).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>')},removeSpinner:function(t){var o=e(t).find(".overlay");o.length&&o.remove()},dataTableES:function(){return{sProcessing:'<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}},redirect:function(e){e!==i&&""!=e?t.location=e:t.location.reload()},successRedirect:function(e,o){alertify.success(e),setTimeout(function(){t.Misc.redirect(o)},500)},currency:function(e){return accounting.formatMoney(e,"",2,".",",")}},t.Misc=new r,t.Misc.initialize()}(jQuery,this,this.document),function(){var e=function(){var e={absolute:!1,rootUrl:"http://localhost",routes:[{host:null,methods:["POST"],uri:"login",name:"login",action:"AppHttpControllersAuthAuthController@postLogin"},{host:null,methods:["GET","HEAD"],uri:"login",name:"login",action:"AppHttpControllersAuthAuthController@getLogin"},{host:null,methods:["GET","HEAD"],uri:"logout",name:"logout",action:"AppHttpControllersAuthAuthController@getLogout"},{host:null,methods:["GET","HEAD"],uri:"/",name:"dashboard",action:"AppHttpControllersHomeController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/dv",name:"terceros.dv",action:"AppHttpControllersAdminTerceroController@dv"},{host:null,methods:["GET","HEAD"],uri:"terceros/rcree",name:"terceros.rcree",action:"AppHttpControllersAdminTerceroController@rcree"},{host:null,methods:["GET","HEAD"],uri:"terceros/search",name:"terceros.search",action:"AppHttpControllersAdminTerceroController@search"},{host:null,methods:["POST"],uri:"terceros/setpassword",name:"terceros.setpassword",action:"AppHttpControllersAdminTerceroController@setpassword"},{host:null,methods:["GET","HEAD"],uri:"terceros/contactos",name:"terceros.contactos.index",action:"AppHttpControllersAdminContactoController@index"},{host:null,methods:["POST"],uri:"terceros/contactos",name:"terceros.contactos.store",action:"AppHttpControllersAdminContactoController@store"},{host:null,methods:["PUT"],uri:"terceros/contactos/{contactos}",name:"terceros.contactos.update",action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["PATCH"],uri:"terceros/contactos/{contactos}",name:null,action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["GET","HEAD"],uri:"terceros/roles",name:"terceros.roles.index",action:"AppHttpControllersAdminUsuarioRolController@index"},{host:null,methods:["POST"],uri:"terceros/roles",name:"terceros.roles.store",action:"AppHttpControllersAdminUsuarioRolController@store"},{host:null,methods:["DELETE"],uri:"terceros/roles/{roles}",name:"terceros.roles.destroy",action:"AppHttpControllersAdminUsuarioRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"terceros",name:"terceros.index",action:"AppHttpControllersAdminTerceroController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/create",name:"terceros.create",action:"AppHttpControllersAdminTerceroController@create"},{host:null,methods:["POST"],uri:"terceros",name:"terceros.store",action:"AppHttpControllersAdminTerceroController@store"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}",name:"terceros.show",action:"AppHttpControllersAdminTerceroController@show"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}/edit",name:"terceros.edit",action:"AppHttpControllersAdminTerceroController@edit"},{host:null,methods:["PUT"],uri:"terceros/{terceros}",name:"terceros.update",action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["PATCH"],uri:"terceros/{terceros}",name:null,action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["GET","HEAD"],uri:"actividades",name:"actividades.index",action:"AppHttpControllersAdminActividadController@index"},{host:null,methods:["GET","HEAD"],uri:"actividades/create",name:"actividades.create",action:"AppHttpControllersAdminActividadController@create"},{host:null,methods:["POST"],uri:"actividades",name:"actividades.store",action:"AppHttpControllersAdminActividadController@store"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}",name:"actividades.show",action:"AppHttpControllersAdminActividadController@show"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}/edit",name:"actividades.edit",action:"AppHttpControllersAdminActividadController@edit"},{host:null,methods:["PUT"],uri:"actividades/{actividades}",name:"actividades.update",action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["PATCH"],uri:"actividades/{actividades}",name:null,action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["GET","HEAD"],uri:"departamentos",name:"departamentos.index",action:"AppHttpControllersAdminDepartamentoController@index"},{host:null,methods:["GET","HEAD"],uri:"departamentos/{departamentos}",name:"departamentos.show",action:"AppHttpControllersAdminDepartamentoController@show"},{host:null,methods:["GET","HEAD"],uri:"municipios",name:"municipios.index",action:"AppHttpControllersAdminMunicipioController@index"},{host:null,methods:["GET","HEAD"],uri:"sucursales",name:"sucursales.index",action:"AppHttpControllersAdminSucursalController@index"},{host:null,methods:["GET","HEAD"],uri:"sucursales/create",name:"sucursales.create",action:"AppHttpControllersAdminSucursalController@create"},{host:null,methods:["POST"],uri:"sucursales",name:"sucursales.store",action:"AppHttpControllersAdminSucursalController@store"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}",name:"sucursales.show",action:"AppHttpControllersAdminSucursalController@show"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}/edit",name:"sucursales.edit",action:"AppHttpControllersAdminSucursalController@edit"},{host:null,methods:["PUT"],uri:"sucursales/{sucursales}",name:"sucursales.update",action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["PATCH"],uri:"sucursales/{sucursales}",name:null,action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["GET","HEAD"],uri:"estados",name:"estados.index",action:"AppHttpControllersAdminEstadoController@index"},{host:null,methods:["GET","HEAD"],uri:"estados/create",name:"estados.create",action:"AppHttpControllersAdminEstadoController@create"},{host:null,methods:["POST"],uri:"estados",name:"estados.store",action:"AppHttpControllersAdminEstadoController@store"},{host:null,methods:["GET","HEAD"],uri:"estados/{estados}",name:"estados.show",action:"AppHttpControllersAdminEstadoController@show"},{host:null,methods:["GET","HEAD"],uri:"estados/{estados}/edit",name:"estados.edit",action:"AppHttpControllersAdminEstadoController@edit"},{host:null,methods:["PUT"],uri:"estados/{estados}",name:"estados.update",action:"AppHttpControllersAdminEstadoController@update"},{host:null,methods:["PATCH"],uri:"estados/{estados}",name:null,action:"AppHttpControllersAdminEstadoController@update"},{host:null,methods:["GET","HEAD"],uri:"roles/permisos",name:"roles.permisos.index",action:"AppHttpControllersAdminPermisoRolController@index"},{host:null,methods:["PUT"],uri:"roles/permisos/{permisos}",name:"roles.permisos.update",action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["PATCH"],uri:"roles/permisos/{permisos}",name:null,action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["DELETE"],uri:"roles/permisos/{permisos}",name:"roles.permisos.destroy",action:"AppHttpControllersAdminPermisoRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"roles",name:"roles.index",action:"AppHttpControllersAdminRolController@index"},{host:null,methods:["GET","HEAD"],uri:"roles/create",name:"roles.create",action:"AppHttpControllersAdminRolController@create"},{host:null,methods:["POST"],uri:"roles",name:"roles.store",action:"AppHttpControllersAdminRolController@store"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}",name:"roles.show",action:"AppHttpControllersAdminRolController@show"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}/edit",name:"roles.edit",action:"AppHttpControllersAdminRolController@edit"},{host:null,methods:["PUT"],uri:"roles/{roles}",name:"roles.update",action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["PATCH"],uri:"roles/{roles}",name:null,action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["GET","HEAD"],uri:"permisos",name:"permisos.index",action:"AppHttpControllersAdminPermisoController@index"},{host:null,methods:["GET","HEAD"],uri:"modulos",name:"modulos.index",action:"AppHttpControllersAdminModuloController@index"},{host:null,methods:["GET","HEAD"],uri:"modelos/search",name:"modelos.search",action:"AppHttpControllersInventarioModeloController@search"},{host:null,methods:["GET","HEAD"],uri:"modelos",name:"modelos.index",action:"AppHttpControllersInventarioModeloController@index"},{host:null,methods:["GET","HEAD"],uri:"modelos/create",name:"modelos.create",action:"AppHttpControllersInventarioModeloController@create"},{host:null,methods:["POST"],uri:"modelos",name:"modelos.store",action:"AppHttpControllersInventarioModeloController@store"},{host:null,methods:["GET","HEAD"],uri:"modelos/{modelos}",name:"modelos.show",action:"AppHttpControllersInventarioModeloController@show"},{host:null,methods:["GET","HEAD"],uri:"modelos/{modelos}/edit",name:"modelos.edit",action:"AppHttpControllersInventarioModeloController@edit"},{host:null,methods:["PUT"],uri:"modelos/{modelos}",name:"modelos.update",action:"AppHttpControllersInventarioModeloController@update"},{host:null,methods:["PATCH"],uri:"modelos/{modelos}",name:null,action:"AppHttpControllersInventarioModeloController@update"},{host:null,methods:["GET","HEAD"],uri:"marcas",name:"marcas.index",action:"AppHttpControllersInventarioMarcaController@index"},{host:null,methods:["GET","HEAD"],uri:"marcas/create",name:"marcas.create",action:"AppHttpControllersInventarioMarcaController@create"},{host:null,methods:["POST"],uri:"marcas",name:"marcas.store",action:"AppHttpControllersInventarioMarcaController@store"},{host:null,methods:["GET","HEAD"],uri:"marcas/{marcas}",name:"marcas.show",action:"AppHttpControllersInventarioMarcaController@show"},{host:null,methods:["GET","HEAD"],uri:"marcas/{marcas}/edit",name:"marcas.edit",action:"AppHttpControllersInventarioMarcaController@edit"},{host:null,methods:["PUT"],uri:"marcas/{marcas}",name:"marcas.update",action:"AppHttpControllersInventarioMarcaController@update"},{host:null,methods:["PATCH"],uri:"marcas/{marcas}",name:null,action:"AppHttpControllersInventarioMarcaController@update"},{host:null,methods:["GET","HEAD"],uri:"tipos",name:"tipos.index",action:"AppHttpControllersInventarioTipoController@index"},{host:null,methods:["GET","HEAD"],uri:"tipos/create",name:"tipos.create",action:"AppHttpControllersInventarioTipoController@create"},{host:null,methods:["POST"],uri:"tipos",name:"tipos.store",action:"AppHttpControllersInventarioTipoController@store"},{host:null,methods:["GET","HEAD"],uri:"tipos/{tipos}",name:"tipos.show",action:"AppHttpControllersInventarioTipoController@show"},{host:null,methods:["GET","HEAD"],uri:"tipos/{tipos}/edit",name:"tipos.edit",action:"AppHttpControllersInventarioTipoController@edit"},{host:null,methods:["PUT"],uri:"tipos/{tipos}",name:"tipos.update",action:"AppHttpControllersInventarioTipoController@update"},{host:null,methods:["PATCH"],uri:"tipos/{tipos}",name:null,action:"AppHttpControllersInventarioTipoController@update"},{host:null,methods:["GET","HEAD"],uri:"contadores",name:"contadores.index",action:"AppHttpControllersInventarioContadorController@index"},{host:null,methods:["GET","HEAD"],uri:"contadores/create",name:"contadores.create",action:"AppHttpControllersInventarioContadorController@create"},{host:null,methods:["POST"],uri:"contadores",name:"contadores.store",action:"AppHttpControllersInventarioContadorController@store"},{host:null,methods:["GET","HEAD"],uri:"contadores/{contadores}",name:"contadores.show",action:"AppHttpControllersInventarioContadorController@show"},{host:null,methods:["GET","HEAD"],uri:"contadores/{contadores}/edit",name:"contadores.edit",action:"AppHttpControllersInventarioContadorController@edit"},{host:null,methods:["PUT"],uri:"contadores/{contadores}",name:"contadores.update",action:"AppHttpControllersInventarioContadorController@update"},{host:null,methods:["PATCH"],uri:"contadores/{contadores}",name:null,action:"AppHttpControllersInventarioContadorController@update"},{host:null,methods:["GET","HEAD"],uri:"productos/search",name:"productos.search",action:"AppHttpControllersInventarioProductoController@search"},{host:null,methods:["GET","HEAD"],uri:"productos/sirveas",name:"productos.sirveas.index",action:"AppHttpControllersInventarioSirveaController@index"},{host:null,methods:["POST"],uri:"productos/sirveas",name:"productos.sirveas.store",action:"AppHttpControllersInventarioSirveaController@store"},{host:null,methods:["DELETE"],uri:"productos/sirveas/{sirveas}",name:"productos.sirveas.destroy",action:"AppHttpControllersInventarioSirveaController@destroy"},{host:null,methods:["GET","HEAD"],uri:"productos/productoscontador",name:"productos.productoscontador.index",action:"AppHttpControllersInventarioProductoContadorController@index"},{host:null,methods:["POST"],uri:"productos/productoscontador",name:"productos.productoscontador.store",action:"AppHttpControllersInventarioProductoContadorController@store"},{host:null,methods:["DELETE"],uri:"productos/productoscontador/{productoscontador}",name:"productos.productoscontador.destroy",action:"AppHttpControllersInventarioProductoContadorController@destroy"},{host:null,methods:["GET","HEAD"],uri:"productos",name:"productos.index",action:"AppHttpControllersInventarioProductoController@index"},{host:null,methods:["GET","HEAD"],uri:"productos/create",name:"productos.create",action:"AppHttpControllersInventarioProductoController@create"},{host:null,methods:["POST"],uri:"productos",name:"productos.store",action:"AppHttpControllersInventarioProductoController@store"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}",name:"productos.show",action:"AppHttpControllersInventarioProductoController@show"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}/edit",name:"productos.edit",action:"AppHttpControllersInventarioProductoController@edit"},{host:null,methods:["PUT"],uri:"productos/{productos}",name:"productos.update",action:"AppHttpControllersInventarioProductoController@update"},{host:null,methods:["PATCH"],uri:"productos/{productos}",name:null,action:"AppHttpControllersInventarioProductoController@update"},{host:null,methods:["GET","HEAD"],uri:"contratos/danoc",name:"contratos.danoc.index",action:"AppHttpControllersTecnicoContratoDanoController@index"},{host:null,methods:["POST"],uri:"contratos/danoc",name:"contratos.danoc.store",action:"AppHttpControllersTecnicoContratoDanoController@store"},{host:null,methods:["DELETE"],uri:"contratos/danoc/{danoc}",name:"contratos.danoc.destroy",action:"AppHttpControllersTecnicoContratoDanoController@destroy"},{host:null,methods:["GET","HEAD"],uri:"ordenes/visitas",name:"ordenes.visitas.index",action:"AppHttpControllersTecnicoVisitaController@index"},{host:null,methods:["POST"],uri:"ordenes/visitas",name:"ordenes.visitas.store",action:"AppHttpControllersTecnicoVisitaController@store"},{host:null,methods:["DELETE"],uri:"ordenes/visitas/{visitas}",name:"ordenes.visitas.destroy",action:"AppHttpControllersTecnicoVisitaController@destroy"},{host:null,methods:["GET","HEAD"],uri:"ordenes/visitasp",name:"ordenes.visitasp.index",action:"AppHttpControllersTecnicoVisitapController@index"},{host:null,methods:["POST"],uri:"ordenes/visitasp",name:"ordenes.visitasp.store",action:"AppHttpControllersTecnicoVisitapController@store"},{host:null,methods:["GET","HEAD"],uri:"ordenes/contadoresp",name:"ordenes.contadoresp.index",action:"AppHttpControllersTecnicoContadorespController@index"},{host:null,methods:["GET","HEAD"],uri:"contratos",name:"contratos.index",action:"AppHttpControllersTecnicoContratoController@index"},{host:null,methods:["GET","HEAD"],uri:"contratos/create",name:"contratos.create",action:"AppHttpControllersTecnicoContratoController@create"},{host:null,methods:["POST"],uri:"contratos",name:"contratos.store",action:"AppHttpControllersTecnicoContratoController@store"},{host:null,methods:["GET","HEAD"],uri:"contratos/{contratos}",name:"contratos.show",action:"AppHttpControllersTecnicoContratoController@show"},{host:null,methods:["GET","HEAD"],uri:"contratos/{contratos}/edit",name:"contratos.edit",action:"AppHttpControllersTecnicoContratoController@edit"},{host:null,methods:["PUT"],uri:"contratos/{contratos}",name:"contratos.update",action:"AppHttpControllersTecnicoContratoController@update"},{host:null,methods:["PATCH"],uri:"contratos/{contratos}",name:null,action:"AppHttpControllersTecnicoContratoController@update"},{host:null,methods:["GET","HEAD"],uri:"ordenes",name:"ordenes.index",action:"AppHttpControllersTecnicoOrdenController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/create",name:"ordenes.create",action:"AppHttpControllersTecnicoOrdenController@create"},{host:null,methods:["POST"],uri:"ordenes",name:"ordenes.store",action:"AppHttpControllersTecnicoOrdenController@store"},{host:null,methods:["GET","HEAD"],uri:"ordenes/{ordenes}",name:"ordenes.show",action:"AppHttpControllersTecnicoOrdenController@show"},{host:null,methods:["GET","HEAD"],uri:"ordenes/{ordenes}/edit",name:"ordenes.edit",action:"AppHttpControllersTecnicoOrdenController@edit"},{host:null,methods:["PUT"],uri:"ordenes/{ordenes}",name:"ordenes.update",action:"AppHttpControllersTecnicoOrdenController@update"},{host:null,methods:["PATCH"],uri:"ordenes/{ordenes}",name:null,action:"AppHttpControllersTecnicoOrdenController@update"},{host:null,methods:["GET","HEAD"],uri:"tiposorden",name:"tiposorden.index",action:"AppHttpControllersTecnicoTipoOrdenController@index"},{host:null,methods:["GET","HEAD"],uri:"tiposorden/create",name:"tiposorden.create",action:"AppHttpControllersTecnicoTipoOrdenController@create"},{host:null,methods:["POST"],uri:"tiposorden",name:"tiposorden.store",action:"AppHttpControllersTecnicoTipoOrdenController@store"},{host:null,methods:["GET","HEAD"],uri:"tiposorden/{tiposorden}",name:"tiposorden.show",action:"AppHttpControllersTecnicoTipoOrdenController@show"},{host:null,methods:["GET","HEAD"],uri:"tiposorden/{tiposorden}/edit",name:"tiposorden.edit",action:"AppHttpControllersTecnicoTipoOrdenController@edit"},{host:null,methods:["PUT"],uri:"tiposorden/{tiposorden}",name:"tiposorden.update",action:"AppHttpControllersTecnicoTipoOrdenController@update"},{host:null,methods:["PATCH"],uri:"tiposorden/{tiposorden}",name:null,action:"AppHttpControllersTecnicoTipoOrdenController@update"},{host:null,methods:["GET","HEAD"],uri:"solicitantes",name:"solicitantes.index",action:"AppHttpControllersTecnicoSolicitanteController@index"},{host:null,methods:["GET","HEAD"],uri:"solicitantes/create",name:"solicitantes.create",action:"AppHttpControllersTecnicoSolicitanteController@create"},{host:null,methods:["POST"],uri:"solicitantes",name:"solicitantes.store",action:"AppHttpControllersTecnicoSolicitanteController@store"},{host:null,methods:["GET","HEAD"],uri:"solicitantes/{solicitantes}",name:"solicitantes.show",action:"AppHttpControllersTecnicoSolicitanteController@show"},{host:null,methods:["GET","HEAD"],uri:"solicitantes/{solicitantes}/edit",name:"solicitantes.edit",action:"AppHttpControllersTecnicoSolicitanteController@edit"},{host:null,methods:["PUT"],uri:"solicitantes/{solicitantes}",name:"solicitantes.update",action:"AppHttpControllersTecnicoSolicitanteController@update"},{host:null,methods:["PATCH"],uri:"solicitantes/{solicitantes}",name:null,action:"AppHttpControllersTecnicoSolicitanteController@update"},{host:null,methods:["GET","HEAD"],uri:"danos",name:"danos.index",action:"AppHttpControllersTecnicoDanoController@index"},{host:null,methods:["GET","HEAD"],uri:"danos/create",name:"danos.create",action:"AppHttpControllersTecnicoDanoController@create"},{host:null,methods:["POST"],uri:"danos",name:"danos.store",action:"AppHttpControllersTecnicoDanoController@store"},{host:null,methods:["GET","HEAD"],uri:"danos/{danos}",name:"danos.show",action:"AppHttpControllersTecnicoDanoController@show"},{host:null,methods:["GET","HEAD"],uri:"danos/{danos}/edit",name:"danos.edit",action:"AppHttpControllersTecnicoDanoController@edit"},{host:null,methods:["PUT"],uri:"danos/{danos}",name:"danos.update",action:"AppHttpControllersTecnicoDanoController@update"},{host:null,methods:["PATCH"],uri:"danos/{danos}",name:null,action:"AppHttpControllersTecnicoDanoController@update"},{host:null,methods:["GET","HEAD"],uri:"prioridades",name:"prioridades.index",action:"AppHttpControllersTecnicoPrioridadController@index"},{host:null,methods:["GET","HEAD"],uri:"prioridades/create",name:"prioridades.create",action:"AppHttpControllersTecnicoPrioridadController@create"},{host:null,methods:["POST"],uri:"prioridades",name:"prioridades.store",action:"AppHttpControllersTecnicoPrioridadController@store"},{host:null,methods:["GET","HEAD"],uri:"prioridades/{prioridades}",name:"prioridades.show",action:"AppHttpControllersTecnicoPrioridadController@show"},{host:null,methods:["GET","HEAD"],uri:"prioridades/{prioridades}/edit",name:"prioridades.edit",action:"AppHttpControllersTecnicoPrioridadController@edit"},{host:null,methods:["PUT"],uri:"prioridades/{prioridades}",name:"prioridades.update",action:"AppHttpControllersTecnicoPrioridadController@update"},{host:null,methods:["PATCH"],uri:"prioridades/{prioridades}",name:null,action:"AppHttpControllersTecnicoPrioridadController@update"},{host:null,methods:["GET","HEAD"],uri:"zonas",name:"zonas.index",action:"AppHttpControllersTecnicoZonaController@index"},{host:null,methods:["GET","HEAD"],uri:"zonas/create",name:"zonas.create",action:"AppHttpControllersTecnicoZonaController@create"},{host:null,methods:["POST"],uri:"zonas",name:"zonas.store",action:"AppHttpControllersTecnicoZonaController@store"},{host:null,methods:["GET","HEAD"],uri:"zonas/{zonas}",name:"zonas.show",action:"AppHttpControllersTecnicoZonaController@show"},{host:null,methods:["GET","HEAD"],uri:"zonas/{zonas}/edit",name:"zonas.edit",action:"AppHttpControllersTecnicoZonaController@edit"},{host:null,methods:["PUT"],uri:"zonas/{zonas}",name:"zonas.update",action:"AppHttpControllersTecnicoZonaController@update"},{host:null,methods:["PATCH"],uri:"zonas/{zonas}",name:null,action:"AppHttpControllersTecnicoZonaController@update"},{host:null,methods:["GET","HEAD"],uri:"asignaciones/detalle",name:"asignaciones.detalle.index",action:"AppHttpControllersTecnicoAsignacionDetalleController@index"},{host:null,methods:["POST"],uri:"asignaciones/detalle",name:"asignaciones.detalle.store",action:"AppHttpControllersTecnicoAsignacionDetalleController@store"},{host:null,methods:["GET","HEAD"],uri:"asignaciones/contratos",name:"asignaciones.contratos.index",action:"AppHttpControllersTecnicoContratoController@index"},{host:null,methods:["GET","HEAD"],uri:"asignaciones",name:"asignaciones.index",action:"AppHttpControllersTecnicoAsignacionController@index"},{host:null,methods:["GET","HEAD"],uri:"asignaciones/create",name:"asignaciones.create",action:"AppHttpControllersTecnicoAsignacionController@create"},{host:null,methods:["POST"],uri:"asignaciones",name:"asignaciones.store",action:"AppHttpControllersTecnicoAsignacionController@store"},{host:null,methods:["GET","HEAD"],uri:"asignaciones/{asignaciones}",
name:"asignaciones.show",action:"AppHttpControllersTecnicoAsignacionController@show"},{host:null,methods:["PUT"],uri:"asignaciones/{asignaciones}",name:"asignaciones.update",action:"AppHttpControllersTecnicoAsignacionController@update"},{host:null,methods:["PATCH"],uri:"asignaciones/{asignaciones}",name:null,action:"AppHttpControllersTecnicoAsignacionController@update"}],prefix:"",route:function(e,t,o){if(o=o||this.getByName(e))return this.toRoute(o,t)},url:function(e,t){t=t||[];var o=e+"/"+t.join("/");return this.getCorrectUrl(o)},toRoute:function(e,t){var o=this.replaceNamedParameters(e.uri,t),i=this.getRouteQueryString(t);return this.absolute&&this.isOtherHost(e)?"//"+e.host+"/"+o+i:this.getCorrectUrl(o+i)},isOtherHost:function(e){return e.host&&e.host!=window.location.hostname},replaceNamedParameters:function(e,t){return e=e.replace(/\{(.*?)\??\}/g,function(e,o){if(t.hasOwnProperty(o)){var i=t[o];return delete t[o],i}return e}),e=e.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o+"="+e[o]);return t.length<1?"":"?"+t.join("&")},getByName:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].name===e)return this.routes[t]},getByAction:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].action===e)return this.routes[t]},getCorrectUrl:function(e){var t=this.prefix+"/"+e.replace(/^\/?/,"");return this.absolute?this.rootUrl.replace("//?$/","")+t:t}},t=function(e){if(!e)return"";var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o+'="'+e[o]+'"');return t.join(" ")},o=function(e,o,i){return o=o||e,i=t(i),'<a href="'+e+'" '+i+">"+o+"</a>"};return{action:function(t,o){return o=o||{},e.route(t,o,e.getByAction(t))},route:function(t,o){return o=o||{},e.route(t,o)},url:function(t,o){return o=o||{},e.url(t,o)},link_to:function(e,t,i){return e=this.url(e),o(e,t,i)},link_to_route:function(e,t,i,r){var n=this.route(e,i);return o(n,t,r)},link_to_action:function(e,t,i,r){var n=this.action(e,i);return o(n,t,r)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:window.Route=e}.call(this),app||(app={}),function(e,t,o,i){app.AppRouter=new(Backbone.Router.extend({routes:{"login(/)":"getLogin","terceros(/)":"getTercerosMain","terceros/create(/)":"getTercerosCreate","terceros/:tercero(/)":"getTercerosShow","terceros/:tercero/edit(/)":"getTercerosEdit","actividades(/)":"getActividadesMain","actividades/create(/)":"getActividadesCreate","actividades/:actividad/edit(/)":"getActividadesEdit","sucursales(/)":"getSucursalesMain","sucursales/create(/)":"getSucursalesCreate","sucursales/:sucursal/edit(/)":"getSucursalesEdit","departamentos(/)":"getDepartamentosMain","municipios(/)":"getMunicipiosMain","estados(/)":"getEstadosMain","estados/create(/)":"getEstadosCreate","estados/:modelo/edit(/)":"getEstadosEdit","permisos(/)":"getPermisosMain","modulos(/)":"getModulosMain","roles(/)":"getRolesMain","roles/create(/)":"getRolesCreate","roles/:rol/edit(/)":"getRolesEdit","productos(/)":"getProductosMain","productos/create(/)":"getProductosCreate","productos/:productos/edit(/)":"getProductosEdit","productos/:productos(/)":"getProductosShow","marcas(/)":"getMarcasMain","marcas/create(/)":"getMarcasCreate","marcas/:marcas/edit(/)":"getMarcasEdit","tipos(/)":"getTiposMain","tipos/create(/)":"getTiposCreate","tipos/:tipos/edit(/)":"getTiposEdit","modelos(/)":"getModelosMain","modelos/create(/)":"getModelosCreate","modelos/:modelo/edit(/)":"getModelosEdit","contadores(/)":"getContadoresMain","contadores/create(/)":"getContadoresCreate","contadores/:contadores/edit(/)":"getContadoresEdit","tiposorden(/)":"getTiposOrdenMain","tiposorden/create(/)":"getTiposOrdenCreate","tiposorden/:tiposorden/edit(/)":"getTiposOrdenEdit","solicitantes(/)":"getSolicitantesMain","solicitantes/create(/)":"getSolicitantesCreate","solicitantes/:solicitantes/edit(/)":"getSolicitantesEdit","danos(/)":"getDanosMain","danos/create(/)":"getDanosCreate","danos/:danos/edit(/)":"getDanosEdit","contratos(/)":"getContratosMain","contratos/create(/)":"getContratosCreate","contratos/:contrato(/)":"getContratoShow","contratos/:contrato/edit(/)":"getContratosEdit","ordenes(/)":"getOrdenesMain","ordenes/create(/)":"getOrdenesCreate","ordenes/:orden/edit(/)":"getOrdenesEdit","ordenes/:orden(/)":"getOrdenesShow","prioridades(/)":"getPrioridadesMain","prioridades/create(/)":"getPrioridadesCreate","prioridades/:prioridades/edit(/)":"getPrioridadesEdit","zonas(/)":"getZonasMain","zonas/create(/)":"getZonasCreate","zonas/:zonas/edit(/)":"getZonasEdit","asignaciones(/)":"getAsignacionMain","asignaciones/create(/)(?*queryString)":"getAsignacionCreate","asignaciones/:asignaciones(/)":"getAsignacionShow"},parseQueryString:function(e){var t={};return e&&_.each(_.map(decodeURI(e).split(/&/g),function(e,t){var o=e.split("="),r={};if(o.length>=1){var n=i;2==o.length&&(n=o[1]),r[o[0]]=n}return r}),function(e){_.extend(t,e)}),t},initialize:function(e){this.componentGlobalView=new app.ComponentGlobalView,this.componentSearchTerceroView=new app.ComponentSearchTerceroView,this.componentTerceroView=new app.ComponentTerceroView,this.componentAddressView=new app.ComponentAddressView,this.componentCreateResourceView=new app.ComponentCreateResourceView,this.componentSearchProductoView=new app.ComponentSearchProductoView,this.componentSearchContactoView=new app.ComponentSearchContactoView,this.componentSearchContratoView=new app.ComponentSearchContratoView,this.componentSearchModeloView=new app.ComponentSearchModeloView},start:function(){var e={pushState:!0};"-1"!=o.domain.search(/(104.236.57.82|localhost)/gi)&&(e.root="/sophia/public/"),Backbone.history.start(e)},getLogin:function(){this.loginView instanceof Backbone.View&&(this.loginView.stopListening(),this.loginView.undelegateEvents()),this.loginView=new app.UserLoginView},getTercerosMain:function(){this.mainTerceroView instanceof Backbone.View&&(this.mainTerceroView.stopListening(),this.mainTerceroView.undelegateEvents()),this.mainTerceroView=new app.MainTerceroView},getTercerosCreate:function(){this.terceroModel=new app.TerceroModel,this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.createTerceroView.render()},getTercerosShow:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.showTerceroView instanceof Backbone.View&&(this.showTerceroView.stopListening(),this.showTerceroView.undelegateEvents()),this.showTerceroView=new app.ShowTerceroView({model:this.terceroModel})},getTercerosEdit:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.terceroModel.fetch()},getActividadesMain:function(){this.mainActividadView instanceof Backbone.View&&(this.mainActividadView.stopListening(),this.mainActividadView.undelegateEvents()),this.mainActividadView=new app.MainActividadView},getActividadesCreate:function(){this.actividadModel=new app.ActividadModel,this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.createActividadView.render()},getActividadesEdit:function(e){this.actividadModel=new app.ActividadModel,this.actividadModel.set({id:e},{silent:!0}),this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.actividadModel.fetch()},getSucursalesMain:function(){this.mainSucursalesView instanceof Backbone.View&&(this.mainSucursalesView.stopListening(),this.mainSucursalesView.undelegateEvents()),this.mainSucursalesView=new app.MainSucursalesView},getSucursalesCreate:function(){this.sucursalModel=new app.SucursalModel,this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.createSucursalView.render()},getSucursalesEdit:function(e){this.sucursalModel=new app.SucursalModel,this.sucursalModel.set({id:e},{silent:!0}),this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.sucursalModel.fetch()},getDepartamentosMain:function(){this.mainDepartamentoView instanceof Backbone.View&&(this.mainDepartamentoView.stopListening(),this.mainDepartamentoView.undelegateEvents()),this.mainDepartamentoView=new app.MainDepartamentoView},getMunicipiosMain:function(){this.mainMunicipioView instanceof Backbone.View&&(this.mainMunicipioView.stopListening(),this.mainMunicipioView.undelegateEvents()),this.mainMunicipioView=new app.MainMunicipioView},getEstadosMain:function(){this.mainEstadoView instanceof Backbone.View&&(this.mainEstadoView.stopListening(),this.mainEstadoView.undelegateEvents()),this.mainEstadoView=new app.MainEstadosView},getEstadosCreate:function(){this.estadoModel=new app.EstadoModel,this.createEstadoView instanceof Backbone.View&&(this.createEstadoView.stopListening(),this.createEstadoView.undelegateEvents()),this.createEstadoView=new app.CreateEstadoView({model:this.estadoModel}),this.createEstadoView.render()},getEstadosEdit:function(e){this.estadoModel=new app.EstadoModel,this.estadoModel.set({id:e},{silent:!0}),this.createEstadoView instanceof Backbone.View&&(this.createEstadoView.stopListening(),this.createEstadoView.undelegateEvents()),this.createEstadoView=new app.CreateEstadoView({model:this.estadoModel}),this.estadoModel.fetch()},getProductosMain:function(){this.mainProductoView instanceof Backbone.View&&(this.mainProductoView.stopListening(),this.mainProductoView.undelegateEvents()),this.mainProductoView=new app.MainProductosView},getProductosCreate:function(){this.productoModel=new app.ProductoModel,this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.createProductoView.render()},getProductosEdit:function(e){this.productoModel=new app.ProductoModel,this.productoModel.set({id:e},{silent:!0}),this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.productoModel.fetch()},getProductosShow:function(e){this.productoModel=new app.ProductoModel,this.productoModel.set({id:e},{silent:!0}),this.showProductoView instanceof Backbone.View&&(this.showProductoView.stopListening(),this.showProductoView.undelegateEvents()),this.showProductoView=new app.ShowProductoView({model:this.productoModel})},getMarcasMain:function(){this.mainMarcaView instanceof Backbone.View&&(this.mainMarcaView.stopListening(),this.mainMarcaView.undelegateEvents()),this.mainMarcaView=new app.MainMarcasView},getMarcasCreate:function(){this.marcaModel=new app.MarcaModel,this.createMarcaView instanceof Backbone.View&&(this.createMarcaView.stopListening(),this.createMarcaView.undelegateEvents()),this.createMarcaView=new app.CreateMarcaView({model:this.marcaModel}),this.createMarcaView.render()},getMarcasEdit:function(e){this.marcaModel=new app.MarcaModel,this.marcaModel.set({id:e},{silent:!0}),this.createMarcaView instanceof Backbone.View&&(this.createMarcaView.stopListening(),this.createMarcaView.undelegateEvents()),this.createMarcaView=new app.CreateMarcaView({model:this.marcaModel}),this.marcaModel.fetch()},getTiposMain:function(){this.mainTipoView instanceof Backbone.View&&(this.mainTipoView.stopListening(),this.mainTipoView.undelegateEvents()),this.mainTipoView=new app.MainTiposView},getTiposCreate:function(){this.tipoModel=new app.TipoModel,this.createTipoView instanceof Backbone.View&&(this.createTipoView.stopListening(),this.createTipoView.undelegateEvents()),this.createTipoView=new app.CreateTipoView({model:this.tipoModel}),this.createTipoView.render()},getTiposEdit:function(e){this.tipoModel=new app.TipoModel,this.tipoModel.set({id:e},{silent:!0}),this.createTipoView instanceof Backbone.View&&(this.createTipoView.stopListening(),this.createTipoView.undelegateEvents()),this.createTipoView=new app.CreateTipoView({model:this.tipoModel}),this.tipoModel.fetch()},getModelosMain:function(){this.mainModeloView instanceof Backbone.View&&(this.mainModeloView.stopListening(),this.mainModeloView.undelegateEvents()),this.mainModeloView=new app.MainModelosView},getModelosCreate:function(){this.modeloModel=new app.ModeloModel,this.createModeloView instanceof Backbone.View&&(this.createModeloView.stopListening(),this.createModeloView.undelegateEvents()),this.createModeloView=new app.CreateModeloView({model:this.modeloModel}),this.createModeloView.render()},getModelosEdit:function(e){this.modeloModel=new app.ModeloModel,this.modeloModel.set({id:e},{silent:!0}),this.createModeloView instanceof Backbone.View&&(this.createModeloView.stopListening(),this.createModeloView.undelegateEvents()),this.createModeloView=new app.CreateModeloView({model:this.modeloModel}),this.modeloModel.fetch()},getContadoresMain:function(){this.mainContadorView instanceof Backbone.View&&(this.mainContadorView.stopListening(),this.mainContadorView.undelegateEvents()),this.mainContadorView=new app.MainContadoresView},getContadoresCreate:function(){this.contadorModel=new app.ContadorModel,this.createContadorView instanceof Backbone.View&&(this.createContadorView.stopListening(),this.createContadorView.undelegateEvents()),this.createContadorView=new app.CreateContadorView({model:this.contadorModel}),this.createContadorView.render()},getContadoresEdit:function(e){this.contadorModel=new app.ContadorModel,this.contadorModel.set({id:e},{silent:!0}),this.createContadorView instanceof Backbone.View&&(this.createContadorView.stopListening(),this.createContadorView.undelegateEvents()),this.createContadorView=new app.CreateContadorView({model:this.contadorModel}),this.contadorModel.fetch()},getTiposOrdenMain:function(){this.mainTipoOrdenView instanceof Backbone.View&&(this.mainTipoOrdenView.stopListening(),this.mainTipoOrdenView.undelegateEvents()),this.mainTipoOrdenView=new app.MainTiposOrdenView},getTiposOrdenCreate:function(){this.tipoordenModel=new app.TipoOrdenModel,this.createTipoOrdenView instanceof Backbone.View&&(this.createTipoOrdenView.stopListening(),this.createTipoOrdenView.undelegateEvents()),this.createTipoOrdenView=new app.CreateTipoOrdenView({model:this.tipoordenModel}),this.createTipoOrdenView.render()},getTiposOrdenEdit:function(e){this.tipoordenModel=new app.TipoOrdenModel,this.tipoordenModel.set({id:e},{silent:!0}),this.createTipoOrdenView instanceof Backbone.View&&(this.createTipoOrdenView.stopListening(),this.createTipoOrdenView.undelegateEvents()),this.createTipoOrdenView=new app.CreateTipoOrdenView({model:this.tipoordenModel}),this.tipoordenModel.fetch()},getSolicitantesMain:function(){this.mainSolicitanteView instanceof Backbone.View&&(this.mainSolicitanteView.stopListening(),this.mainSolicitanteView.undelegateEvents()),this.mainSolicitanteView=new app.MainSolicitantesView},getSolicitantesCreate:function(){this.solicitanteModel=new app.SolicitanteModel,this.createSolicitanteView instanceof Backbone.View&&(this.createSolicitanteView.stopListening(),this.createSolicitanteView.undelegateEvents()),this.createSolicitanteView=new app.CreateSolicitanteView({model:this.solicitanteModel}),this.createSolicitanteView.render()},getSolicitantesEdit:function(e){this.solicitanteModel=new app.SolicitanteModel,this.solicitanteModel.set({id:e},{silent:!0}),this.createSolicitanteView instanceof Backbone.View&&(this.createSolicitanteView.stopListening(),this.createSolicitanteView.undelegateEvents()),this.createSolicitanteView=new app.CreateSolicitanteView({model:this.solicitanteModel}),this.solicitanteModel.fetch()},getDanosMain:function(){this.mainDanoView instanceof Backbone.View&&(this.mainDanoView.stopListening(),this.mainDanoView.undelegateEvents()),this.mainDanoView=new app.MainDanosView},getDanosCreate:function(){this.danoModel=new app.DanoModel,this.createDanoView instanceof Backbone.View&&(this.createDanoView.stopListening(),this.createDanoView.undelegateEvents()),this.createDanoView=new app.CreateDanoView({model:this.danoModel}),this.createDanoView.render()},getDanosEdit:function(e){this.danoModel=new app.DanoModel,this.danoModel.set({id:e},{silent:!0}),this.createDanoView instanceof Backbone.View&&(this.createDanoView.stopListening(),this.createDanoView.undelegateEvents()),this.createDanoView=new app.CreateDanoView({model:this.danoModel}),this.danoModel.fetch()},getPrioridadesMain:function(){this.mainPrioridadView instanceof Backbone.View&&(this.mainPrioridadView.stopListening(),this.mainPrioridadView.undelegateEvents()),this.mainPrioridadView=new app.MainPrioridadesView},getPrioridadesCreate:function(){this.prioridadModel=new app.PrioridadModel,this.createPrioridadView instanceof Backbone.View&&(this.createPrioridadView.stopListening(),this.createPrioridadView.undelegateEvents()),this.createPrioridadView=new app.CreatePrioridadView({model:this.prioridadModel}),this.createPrioridadView.render()},getPrioridadesEdit:function(e){this.prioridadModel=new app.PrioridadModel,this.prioridadModel.set({id:e},{silent:!0}),this.createPrioridadView instanceof Backbone.View&&(this.createPrioridadView.stopListening(),this.createPrioridadView.undelegateEvents()),this.createPrioridadView=new app.CreatePrioridadView({model:this.prioridadModel}),this.prioridadModel.fetch()},getContratosMain:function(){this.mainContratoView instanceof Backbone.View&&(this.mainContratoView.stopListening(),this.mainContratoView.undelegateEvents()),this.mainContratoView=new app.MainContratosView},getContratoShow:function(e){this.contratoModel=new app.ContratoModel,this.contratoModel.set({id:e},{silent:!0}),this.showContratoView instanceof Backbone.View&&(this.showContratoView.stopListening(),this.showContratoView.undelegateEvents()),this.showContratoView=new app.ShowContratoView({model:this.contratoModel})},getContratosCreate:function(){this.contratoModel=new app.ContratoModel,this.createContratoView instanceof Backbone.View&&(this.createContratoView.stopListening(),this.createContratoView.undelegateEvents()),this.createContratoView=new app.CreateContratoView({model:this.contratoModel}),this.createContratoView.render()},getContratosEdit:function(e){this.contratoModel=new app.ContratoModel,this.contratoModel.set({id:e},{silent:!0}),this.createContratoView instanceof Backbone.View&&(this.createContratoView.stopListening(),this.createContratoView.undelegateEvents()),this.createContratoView=new app.CreateContratoView({model:this.contratoModel}),this.contratoModel.fetch()},getOrdenesMain:function(){this.mainOrdenesView instanceof Backbone.View&&(this.mainOrdenesView.stopListening(),this.mainOrdenesView.undelegateEvents()),this.mainOrdenesView=new app.MainOrdenesView},getOrdenesCreate:function(){this.ordenModel=new app.OrdenModel,this.createOrdenView instanceof Backbone.View&&(this.createOrdenView.stopListening(),this.createOrdenView.undelegateEvents()),this.createOrdenView=new app.CreateOrdenView({model:this.ordenModel}),this.createOrdenView.render()},getOrdenesEdit:function(e){this.ordenModel=new app.OrdenModel,this.ordenModel.set({id:e},{silent:!0}),this.createOrdenView instanceof Backbone.View&&(this.createOrdenView.stopListening(),this.createOrdenView.undelegateEvents()),this.createOrdenView=new app.CreateOrdenView({model:this.ordenModel}),this.ordenModel.fetch()},getOrdenesShow:function(e){this.ordenModel=new app.OrdenModel,this.ordenModel.set({id:e},{silent:!0}),this.showOrdenView instanceof Backbone.View&&(this.showOrdenView.stopListening(),this.showOrdenView.undelegateEvents()),this.showOrdenView=new app.ShowOrdenView({model:this.ordenModel})},getZonasMain:function(){this.mainZonaView instanceof Backbone.View&&(this.mainZonaView.stopListening(),this.mainZonaView.undelegateEvents()),this.mainZonaView=new app.MainZonasView},getZonasCreate:function(){this.zonaModel=new app.ZonaModel,this.createZonaView instanceof Backbone.View&&(this.createZonaView.stopListening(),this.createZonaView.undelegateEvents()),this.createZonaView=new app.CreateZonaView({model:this.zonaModel}),this.createZonaView.render()},getZonasEdit:function(e){this.zonaModel=new app.ZonaModel,this.zonaModel.set({id:e},{silent:!0}),this.createZonaView instanceof Backbone.View&&(this.createZonaView.stopListening(),this.createZonaView.undelegateEvents()),this.createZonaView=new app.CreateZonaView({model:this.zonaModel}),this.zonaModel.fetch()},getAsignacionMain:function(){this.mainAsignacionView instanceof Backbone.View&&(this.mainAsignacionView.stopListening(),this.mainAsignacionView.undelegateEvents()),this.mainAsignacionView=new app.MainAsignacionView},getAsignacionCreate:function(e){var t=this.parseQueryString(e);this.envioequipoModel=new app.AsignacionModel,this.createAsignacionView instanceof Backbone.View&&(this.createAsignacionView.stopListening(),this.createAsignacionView.undelegateEvents()),this.createAsignacionView=new app.CreateAsignacionView({model:this.envioequipoModel,parameters:{type:t.tipo}}),this.createAsignacionView.render()},getAsignacionShow:function(e){this.asignacionModel=new app.AsignacionModel,this.asignacionModel.set({id:e},{silent:!0}),this.showAsignacionView instanceof Backbone.View&&(this.showAsignacionView.stopListening(),this.showAsignacionView.undelegateEvents()),this.showEquipoEnvioView=new app.ShowAsignacionView({model:this.asignacionModel})},getPermisosMain:function(){this.mainPermisoView instanceof Backbone.View&&(this.mainPermisoView.stopListening(),this.mainPermisoView.undelegateEvents()),this.mainPermisoView=new app.MainPermisoView},getModulosMain:function(){this.mainModuloView instanceof Backbone.View&&(this.mainModuloView.stopListening(),this.mainModuloView.undelegateEvents()),this.mainModuloView=new app.MainModuloView},getRolesMain:function(){this.mainRolesView instanceof Backbone.View&&(this.mainRolesView.stopListening(),this.mainRolesView.undelegateEvents()),this.mainRolesView=new app.MainRolesView},getRolesCreate:function(){this.rolModel=new app.RolModel,this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.createRolView=new app.CreateRolView({model:this.rolModel}),this.createRolView.render()},getRolesEdit:function(e){this.rolModel=new app.RolModel,this.rolModel.set({id:e},{silent:!0}),this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.createRolView=new app.CreateRolView({model:this.rolModel}),this.rolModel.fetch()}}))}(jQuery,this,this.document);var app=app||{};!function(e,t,o,i){var r=function(){e.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}})};String.prototype.replaceAll=function(e,t){return t?this.replace(new RegExp("["+e+"]","g"),t):this},r.prototype={initialize:function(){this.initApp(),this.initICheck(),this.initAlertify(),this.initSelect2(),this.initToUpper(),this.initSpinner(),this.initInputMask(),this.initDatePicker(),this.initTimePicker()},initApp:function(){t.app.AppRouter.start()},initICheck:function(){e("input").iCheck({checkboxClass:"icheckbox_minimal-red",radioClass:"iradio_minimal-red"})},initAlertify:function(){alertify.logPosition("bottom right")},initSelect2:function(){e(".select2-default").select2({language:"es",placeholder:"Seleccione",allowClear:!1}),e(".select2-default-clear").select2({language:"es",placeholder:"Seleccione",allowClear:!0})},initToUpper:function(){e(".input-toupper").change(function(){e(this).val(e(this).val().toUpperCase())})},initSpinner:function(){e(".spinner-percentage").spinner({step:.1,start:0,min:0,max:100,numberFormat:"n",stop:function(t,o){_.isNull(this.value)||_.isUndefined(this.value)||_.isEmpty(this.value)||(!e.isNumeric(this.value)||this.value>100||this.value<0)&&e(this).spinner("value",0)}})},initInputMask:function(){e("[data-mask]").inputmask(),e("[data-currency]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0,onBeforeMask:function(e,t){var o=e||0;return o},oncleared:function(t){var o=e(this);(null==this.inputmask.unmaskedvalue()||isNaN(parseFloat(this.inputmask.unmaskedvalue())))&&o.inputmask("setvalue",0)}}),e("[data-currency-precise]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0,digits:0,onBeforeMask:function(e,t){var o=e||0;return o},oncleared:function(t){var o=e(this);(null==this.inputmask.unmaskedvalue()||isNaN(parseFloat(this.inputmask.unmaskedvalue())))&&o.inputmask("setvalue",0)}}),e("[data-currency-numeric]").inputmask({radixPoint:",",alias:"numeric",groupSeparator:",",autoGroup:!0,autoUnmask:!0}),e("[data-currency-text]").inputmask({alias:"numeric",rightAlign:!1})},initValidator:function(){e('form[data-toggle="validator"]').each(function(){var t=e(this);e.fn.validator.call(t,t.data())})},initDatePicker:function(){e(".datepicker").datepicker({autoclose:!0,language:"es",format:"yyyy-mm-dd"})},initTimePicker:function(){e(".timepicker").timepicker({showInputs:!1,showMeridian:!1})}},e(function(){t.initComponent=new r,t.initComponent.initialize()})}(jQuery,this,this.document);